(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["multilevel_menu_example"],{"1ef4":function(e,t,i){"use strict";i("deac")},"28ba":function(e,t,i){"use strict";i.r(t);var o=i("5530"),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[t("DynamicPageWrapper",{staticClass:"flex1",attrs:{actions:Object(o["a"])(Object(o["a"])({},e.topToolBar),e.tableOption.lineActions),"entity-label":"不动产管理"}},[t("dyBrandBar",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("不动产管理")])]),t("curdLayout",{attrs:{mode:"tb",scene:"page"}},[t("DynamicSearchForm",{attrs:{slot:"top",fields:e.searchFields},on:{search:e.onSearch},slot:"top"}),t("section",{attrs:{slot:"bottom"},slot:"bottom"},[t("DynamicActions",{attrs:{actions:e.topToolBar,"action-data":e.selected,"action-bar-wraper":e.$el}}),t("section",{staticClass:"grid-wrap mt24 full-width"},[t("section",{staticClass:"flex flex-direction",class:["grid-col-24"]},[t("DynamicTable",{staticClass:"table-wraper flex1",attrs:{table:e.tableOption,columns:e.tableFields,"api-promise":e.loadListApi},on:{"selection-change":e.selectChange}}),t("el-pagination",e._b({staticClass:"mt24 text-right",attrs:{background:"",total:e.total,"page-size":e.pagination.pageSize},on:{"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.pagination,!1))],1)])],1)],1)],1)],1)},a=[],n=i("6e00"),l=i("fec1"),s=i("2698"),p=Object(n["b"])(s["a"],s["b"]),c=Object(n["c"])(s["a"]),d=Object(n["d"])(s["a"]),m={name:"StreetTree",data:function(){return{fields:s["a"],apiPromises:{save:l["o"]},searchFields:c,topToolBar:{link:{isLoadData:!1,actionType:"link",link:"http://www.baidu.com",window:"_blank"},create:{isLoadData:!1,label:"新增",actionType:"routerDialogFormAction",componentProperties:{icon:"el-icon-plus",type:"primary"},containerProperties:{title:"新增不动产"},formItemList:p,saveAction:{actionType:"submit",label:"保存",apiPromise:l["o"]}},bulkdelete:{label:"批量删除",actionType:"requestApiAction",apiPromise:l["l"],msgBox:this.$dynamicConfig["msgBoxTipOptions"]}},tableOption:{loadListApi:l["n"],"current-change":"handleCurrentChange",lineActions:{update:{label:"编辑",actionType:"routerDialogFormAction",apiPromise:l["m"],containerProperties:{title:"更新不动产"},borderForm:!1,colNum:3,formItemList:p,saveAction:{apiPromise:l["p"]}},detail:{label:"查看",actionType:"routerDialogFormAction",apiPromise:l["m"],containerProperties:{title:"查看不动产"},borderForm:!1,textMode:!0,"label-position":"right",formItemList:p},delete:{label:"删除",actionType:"requestApiAction",componentProperties:{class:["text-grey-dark2"]},apiPromise:l["l"],msgBox:this.$dynamicConfig["msgBoxTipOptions"]}}},tableFields:d,pagination:Object(o["a"])(Object(o["a"])({},this.$dynamicConfig["pagination"]),{},{pageNo:1}),searchParams:{refreshKey:""},selected:[],total:1}},computed:{queryParams:function(){return Object(o["a"])(Object(o["a"])({},this.searchParams),{},{pageNo:this.pagination.pageNo,pageSize:this.pagination.pageSize})},loadListApi:function(){var e=this;return this.tableOption.loadListApi(this.queryParams).then((function(t){return t=t.data||t,e.total=t.totalCount,t.list}))}},created:function(){},mounted:function(){var e=this;this.$dynamicBus.$on("dynamicRefresh",(function(){e.refresh()}))},methods:{refresh:function(){var e=this.searchParams.refreshKey+1;this.onSearch({refreshKey:e})},handleSizeChange:function(e){this.refresh()},handleCurrentChange:function(e){this.pagination.pageNo=e,this.onSearch({pageNo:e})},onSearch:function(e){this.searchParams=Object(o["a"])(Object(o["a"])({},this.searchParams),e)},selectChange:function(e){this.selected=e}}},u=m,b=(i("f2f9"),i("2877")),y=Object(b["a"])(u,r,a,!1,null,"05e38936",null);t["default"]=y.exports},"83c3":function(e,t,i){},"8af3":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[e.pageOptions?t("DynamicCurdPage",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"page-optionsprops":e.pageOptions,"api-promises":e.apiPromises}}):e._e()],1)},r=[],a=i("fec1"),n=i("51c2"),l=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},s=[],p=i("5530"),c=(i("a9e3"),i("0c6d"),i("0232"));function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["c"])(n["b"],e)}function m(e){return Object(c["b"])(n["b"],e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["c"])(n["c"],e)}function b(e){return Object(c["b"])(n["c"],e)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["c"])(n["d"],e)}function f(e){return Object(c["b"])(n["d"],e)}var h="养护记录",g={name:"MaitainLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:h,fields:n["b"],apiPromises:{list:function(t){return d(Object(p["a"])({treeMangeId:e.data.id},t))},detail:m},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return"/assets/manage/maitain?id=".concat(e.id,"&action=detail")},routerAction:"push"},delete:null}},treeOption:null}}}},O=g,v=i("2877"),F=Object(v["a"])(O,l,s,!1,null,null,null),k=F.exports,S=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},D=[],L="养护记录",P={name:"ProtectLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:L,fields:n["c"],apiPromises:{list:function(t){return u(Object(p["a"])({treeMangeId:e.data.id},t))},detail:b},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return"/assets/manage/protect?id=".concat(e.id,"&action=detail")},routerAction:"push"},delete:null}},treeOption:null}}}},x=P,A=Object(v["a"])(x,S,D,!1,null,null,null),T=A.exports,I=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},w=[],C="转移记录",N={name:"TransLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:C,fields:n["d"],apiPromises:{list:function(t){return y(Object(p["a"])({treeMangeId:e.data.id},t))},detail:f},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return"/assets/manage/trans?id=".concat(e.id,"&action=detail")},routerAction:"push"},delete:null}}}}}},j=N,_=Object(v["a"])(j,I,w,!1,null,null,null),q=_.exports,M=i("2b0e");M["default"].component("MaitainLog",k),M["default"].component("ProtectLog",T),M["default"].component("TransLog",q);var $="资产",z={name:"AssetsManage",data:function(){return{entityLabel:$,fields:n["a"],apiPromises:{create:a["e"],bulkdelete:a["a"],list:a["d"],detail:a["c"],update:a["f"]},pageOptions:{treeOption:{},topToolBar:{export:{apiPromise:a["g"],actionType:"downloadAction",label:"导出",actionDataKey:"queryParams"}},listOption:{lineActions:{detail:null,detail2:{label:"详情",actionType:"routerDialogPageAction",permission:"详情",containerProperties:{title:$+"详情"},layout:"LayoutTabs",body:[{component:"DynamicForm",name:"@object@",label:"基本信息",props:this.$appendToPreset("dynamicFormOption",{apiPromise:a["b"],formItemList:this.$buildDetailFields(n["a"]),formOption:{borderForm:!1,textMode:!0,formProperties:{"label-position":"right"}},actions:null},!0)},{component:"maitainLog",label:"养护记录",name:"@object@"},{component:"protectLog",label:"保护记录",name:"@object@"},{component:"transLog",label:"转移记录",name:"@object@"}]}}}}}}},B=z,H=Object(v["a"])(B,o,r,!1,null,null,null);t["default"]=H.exports},"8ca6":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width p20 bg-white"},[t("DynamicSection",{attrs:{data:e.pageData,body:e.body}})],1)},r=[],a=(i("d81d"),i("13d5"),i("d3b7"),i("fb6a"),i("4260")),n=i("fec1"),l=[{key:"statisticType",type:"FormRadio",label:"所属类目",options:[{label:"等级",value:"protectLev"},{label:"使用状况",value:"growStatus"},{label:"使用年数",value:"treeAge"},{label:"资产类型",value:"treeSpecies"}],searchOption:{wraperProperties:{class:["grid-col-16","grid-col-lg-12","grid-col-md-14"]},groupProperties:{size:"small"},button:!0,itemProperties:{style:{width:"120px"},border:!0}}}],s={name:"AssetsStatistic",components:{},data:function(){return{pageData:{statisticType:{statisticType:"protectLev"},protectLev:{"":[]},growStatus:{"":[]},treeAge:{"":[]},treeSpecies:{"":[]},protectLevTable:[],growStatusTable:[],treeAgeTable:[],treeSpeciesTable:[]},num:100,layout:{name:"LayoutGrid"}}},computed:{body:function(){var e=Object(a["d"])(l);return e.push({key:"tip",type:"FormText",span:8,searchOption:{content:"该区域下固定资产总共".concat(this.num,"台")}}),[{component:"DynamicSearchForm",name:"statisticType",props:{class:["grid-col-24"],options:{properties:{"label-width":"100px","label-position":"right"},borderForm:!1,trigger:"change",resetable:!1,testTool:!1},fields:this.$buildSearchFields(e)}},{component:"componentWithTitle",name:"protectLev",key:"protectLevChart",hidden:"protectLev"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"protectLevTable",key:"protectLevTable",hidden:"protectLev"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"等级"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"growStatus",key:"growStatusChart",hidden:"growStatus"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"growStatusTable",key:"growStatusTable",hidden:"growStatus"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"使用状况"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"treeAge",key:"treeAgeChart",hidden:"treeAge"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"treeAgeTable",key:"treeAgeTable",hidden:"treeAge"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"使用年数"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"treeSpecies",key:"treeSpeciesChart",hidden:"treeSpecies"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-24"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"treeSpeciesTable",key:"treeSpeciesTable",hidden:"treeSpecies"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-24"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"资产类型"},{key:"value",label:"台资产"}],extraOptions:{}}}]}},created:function(){this.loadData()},methods:{onSearch:function(e){},loadData:function(){var e=this;Object(n["i"])().then((function(t){e.pageData.protectLev={"等级":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.protectLevTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}})),e.num=t.reduce((function(e,t){return e+t.countNumber}),0)})),Object(n["h"])().then((function(t){e.pageData.growStatus={"使用状况":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.growStatusTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))})),Object(n["j"])().then((function(t){e.pageData.treeAge={"使用年数":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.treeAgeTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))})),Object(n["k"])().then((function(t){e.pageData.treeSpecies={"资产类型":t.map((function(e){var t;return{value:e.countNumber,label:null===(t=e.categoryName)||void 0===t?void 0:t.slice(0,5)}}))},e.pageData.treeSpeciesTable=t.map((function(e){var t;return{value:e.countNumber,label:null===(t=e.categoryName)||void 0===t?void 0:t.slice(0,5)}}))}))}}},p=s,c=(i("1ef4"),i("2877")),d=Object(c["a"])(p,o,r,!1,null,"0e97370e",null);t["default"]=d.exports},a920:function(e,t,i){},c312:function(e,t,i){"use strict";i("83c3")},d334:function(e,t,i){"use strict";i.r(t);var o=i("5530"),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[t("DynamicPageWrapper",{attrs:{actions:Object(o["a"])({},e.pendingPageOptions.listOption.lineActions),"api-promises":e.pendingApiPromises,"entity-label":"不动产管理"}},[t("LayoutTabs",{staticClass:"pt12"},[t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.warningFields,"options-props":e.pendingPageOptions,"api-promises":e.pendingApiPromises,scene:"page",mode:"dialog",label:"待处理警告","component-id":"pending"}}),t("DynamicCurd",{attrs:{scene:"page",mode:"dialog","entity-label":e.entityLabel,fields:e.warningProcessedFields,"options-props":e.processedPageOptions,"api-promises":e.processedApiPromises,label:"已处理警告","component-id":"processed"}})],1)],1)],1)},a=[],n=(i("d3b7"),i("fec1")),l=i("d77b"),s="告警信息",p={name:"WarningManage",components:{},data:function(){return{entityLabel:s,warningFields:l["d"],warningProcessedFields:l["e"],pendingApiPromises:{bulkdelete:n["t"],list:n["u"],detail:n["q"]},processedApiPromises:{list:n["v"],detail:n["q"],bulkdelete:n["s"]},pendingPageOptions:{topToolBar:null,listOption:{lineActions:{update:null,atransToEvent:{actionType:"routerDialogFormAction",label:"转事件",sort:0,permission:"",containerProperties:{title:"转事件"},colNum:2,formItemList:this.$buildFormFields(l["a"]),formDataUpdateHandle:function(e,t){},saveAction:{label:"转事件提交",apiPromise:function(){return Promise.resolve()}}},handleForm:{label:"处理",actionType:"dialogFormAction",sort:1,permission:"",dataAdapter:function(e){return{treeGiveAnAlarmId:e.id,treatmentMethod:2}},title:"现场处理",containerProperties:{width:"36%"},formItemList:this.$buildFormFields(l["b"]),colNum:1,saveAction:{label:"处理",apiPromise:n["r"]}},unhandleForm:{label:"不予处理",actionType:"dialogFormAction",sort:1,permission:"",dataAdapter:function(e){return{treeGiveAnAlarmId:e.id,treatmentMethod:3}},container:"el-dialog",containerProperties:{title:"不予处理",width:"36%"},colNum:1,formItemList:this.$buildFormFields(l["c"]),formDataUpdateHandle:function(e,t){},saveAction:{label:"不予处理",apiPromise:n["w"]}}}}},processedPageOptions:{topToolBar:null,listOption:{lineActions:{update:null}}}}}},c=p,d=(i("f851"),i("2877")),m=Object(d["a"])(c,r,a,!1,null,"27a57897",null);t["default"]=m.exports},deac:function(e,t,i){},ed9d:function(e,t,i){},f2f9:function(e,t,i){"use strict";i("a920")},f851:function(e,t,i){"use strict";i("ed9d")},ff94:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[t("DynamicCurdPage",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"page-optionsprops":e.pageOptions,"api-promises":e.apiPromises,mode:"router"}})],1)},r=[],a=(i("d81d"),i("4328"),i("0232")),n=(i("4260"),[{key:"keyWord",type:"FormInput",label:"关键字",searchOption:!0},{key:"id",type:"FormHide",label:"",formOption:{}},{key:"admId",label:"行政区划",type:"FormInput",searchOption:!0},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"overallArea",label:"总体规划面积",type:"FormNumber",tableOption:{}},{key:"greenArea",label:"绿地规划面积",type:"FormNumber",tableOption:{}},{key:"waterArea",label:"水体规划面积",type:"FormNumber",tableOption:{}},{key:"capitalBudgeting",label:"投资预算",type:"FormNumber",tableOption:{}},{key:"buildType",label:"建设类型",type:"FormSelect",options:[{value:0,label:"新建"},{value:1,label:"占绿恢复"},{value:2,label:"改建"}],tableOption:{},searchOption:{}},{key:"useLandDictId",label:"用地性质",type:"FormDynamicSelect",dictType:"order_use_land",searchOption:{},tableOption:{key:"useLandDictLabel"}},{key:"orderAttributeDictId",label:"订单属性",type:"FormDynamicSelect",dictType:"order_attribute",tableOption:{key:"orderAttributeDictLabel"},searchOption:{}},{key:"orderTypeDictId",label:"订单类别",type:"FormDynamicSelect",dictType:"order_type",tableOption:{key:"orderTypeDictLabel"},searchOption:{}},{key:"orderStatus",label:"订单状态",type:"FormSelect",options:[{value:0,label:"计划"},{value:1,label:"处理中"},{value:2,label:"运输中"},{value:3,label:"已竣工"}],tableOption:{key:"orderStatusDesc",template:function(e){return"完成"===e.orderStatusDesc?"已竣工":e.orderStatusDesc}},searchOption:{}}]),l=i("b1ef"),s=[{key:"keyWord",type:"FormInput",label:"关键字",searchOption:!0},{key:"id",type:"FormHide",label:"",formOption:{},formSection:"立项信息"},{key:"orderCode",label:"订单编号",formSection:"立项信息",type:"FormInput",formOption:{rules:["required"]},tableOption:{}},{key:"orderName",label:"订单名称",formSection:"立项信息",type:"FormInput",formOption:{rules:["required"]},tableOption:{}},{key:"overallArea",label:"总体规划面积",formSection:"立项信息",type:"FormNumber",formOption:{rules:["required"],append:"㎡"},tableOption:{}},{key:"greenArea",label:"绿地规划面积",formSection:"立项信息",type:"FormNumber",formOption:{rules:["required"],append:"㎡"},tableOption:{}},{key:"waterArea",label:"水体规划面积",formSection:"立项信息",type:"FormNumber",formOption:{rules:["required"],append:"㎡"},tableOption:{}},{key:"capitalBudgeting",label:"投资预算",formSection:"立项信息",type:"FormNumber",formOption:{rules:["required"],append:"元"},tableOption:{}},{key:"buildType",label:"建设类型",formSection:"立项信息",type:"FormSelect",options:[{value:"0",label:"新建"},{value:"1",label:"占绿恢复"},{value:"2",label:"改建"}],formOption:{},tableOption:{},searchOption:{}},{key:"useLandDictId",label:"用地性质",formSection:"立项信息",type:"FormDynamicSelect",dictType:"order_use_land",formOption:{},searchOption:{},tableOption:{key:"useLandDictLabel"}},{key:"orderAttributeDictId",label:"订单属性",formSection:"立项信息",type:"FormDynamicSelect",dictType:"order_attribute",tableOption:{key:"orderAttributeDictLabel"},searchOption:{}},{key:"orderTypeDictId",label:"订单类别",formSection:"立项信息",type:"FormDynamicSelect",dictType:"order_type",formOption:{key:"orderTypeDictLabel"},searchOption:{}},{key:"admId",label:"行政区划",formSection:"立项信息",type:"FormInput",searchOption:{sort:2},formOption:{rules:["required"]}},{key:"orderPosition",label:"订单位置",formSection:"立项信息",type:"FormSelectPoint",formOption:{rules:["required"]}},{key:"deptId",label:"责任单位",formSection:"立项信息",type:"FormInput",formOption:{},tableOption:{key:"deptName"}},{key:"geogId",label:"地理图层ID",formSection:"立项信息",type:"FormDrawElement",formOption:{defaultValue:[]}},{key:"planStartTime",label:"计划处理日期",formSection:"立项信息",type:"FormDate",formOption:{rules:["required"]},tableOption:{}},{key:"planEndTime",label:"计划竣工日期",formSection:"立项信息",type:"FormDate",formOption:{rules:["required"]},tableOption:{}},{key:"planDate",label:"计划制定日期",formSection:"立项信息",type:"FormDate",formOption:{rules:["required"]}},{key:"description",label:"订单简介",formSection:"立项信息",type:"FormTextarea",formOption:{col:2,maxlength:500}},{key:"planFileIds",label:"附件",formSection:"立项信息",type:"FormUpload",formOption:{col:2,"list-type":"table",accept:"*","auto-upload":!1,extra:{btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"designUnit",label:"设计单位",formSection:"设计信息",type:"FormInput",formOption:{rules:["required"],maxlength:50}},{key:"designUser",label:"设计人",formSection:"设计信息",type:"FormInput",formOption:{maxlength:50}},{key:"designDate",label:"设计完成时间",formSection:"设计信息",type:"FormDate",formOption:{}},{key:"designFileIds",label:"附件",formSection:"设计信息",type:"FormUpload",formOption:{col:2,"list-type":"table",accept:"*","auto-load":!0,extra:{btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"approveStatus",label:"报批是否已通过",formSection:"报批信息",type:"FormRadio",options:[{value:"0",label:"无需报批"},{value:"1",label:"已通过"},{value:"2",label:"未通过"}],formOption:{defaultValue:"0",rules:["required"]},tableOption:{label:"报批信息"},searchOption:{label:"报批信息",type:"FormSelect"}},{key:"approveOverallArea",label:"批复总体规划面积",formSection:"报批信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveGreenArea",label:"批复绿地规划面积",formSection:"报批信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveWaterArea",label:"批复水体规划面积",formSection:"报批信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveCapitalBudgeting",label:"批复投资预算",formSection:"报批信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveDate",label:"报批通过日期",formSection:"报批信息",type:"FormDate",formOption:{rules:["required"],expressProp:{hidden:"#{approveStatus}!=1"}}},{key:"approveFileIds",label:"附件",formSection:"报批信息",type:"FormUpload",formOption:{expressProp:{hidden:"#{approveStatus}!=1"},col:2,"list-type":"table",accept:"*","auto-load":!0,btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}},{key:"bidStatus",label:"招投标是否已完成",formSection:"招投标信息",type:"FormRadio",options:[{value:"0",label:"无需招投标"},{value:"1",label:"已通过"},{value:"2",label:"未通过"}],formOption:{defaultValue:"0",rules:["required"]},tableOption:{label:"招投标信息"},searchOption:{label:"招投标信息",type:"FormSelect"}},{key:"bidOpenDate",label:"开标日期",formSection:"招投标信息",type:"FormDate",formOption:{rules:["required"],expressProp:{hidden:"#{bidStatus}!=1"}}},{key:"orderContractorId",label:"中标单位",formSection:"招投标信息",type:"FormInput",formOption:{rules:["required"],expressProp:{hidden:"#{bidStatus}!=1"}}},{key:"bidMoney",label:"中标金额",formSection:"招投标信息",type:"FormNumber",formOption:{rules:["required"],max:1e9,expressProp:{hidden:"#{bidStatus}!=1"}}},{key:"bidFileIds",label:"附件",formSection:"招投标信息",type:"FormUpload",formOption:{expressProp:{hidden:"#{bidStatus}!=1"},col:2,"list-type":"table",accept:"*",btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}],p=[{type:"FormHide",key:"id",formable:!0},{key:"orderChildName",type:"FormInput",label:"子订单名称",formOption:{col:2,rules:["required"]}},{key:"startTime",type:"FormDate",label:"处理日期",tableOption:{sort:3},formOption:{col:2,rules:["required"]}},{key:"endTime",type:"FormDate",label:"竣工日期",tableOption:{},formOption:{col:2,rules:["required"]}},{key:"remark",type:"FormTextarea",label:"备注",tableable:!0,formOption:{col:2,rules:["required"]}},{key:"createTime",type:"FormDateTime",label:"记录日期",tableOption:{}},{key:"updateTime",type:"FormDateTime",label:"更新日期",tableOption:{}}],c=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"orderLibraryId",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"id",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"index",type:"index",label:"序号",tableOption:{width:60}},{key:"admId",label:"行政区划",type:"FormInput",searchOption:{sort:2}},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"overallArea",label:"总体规划面积",type:"FormNumber",tableOption:{}},{key:"overallAreaLastMonth",label:"上月完成面积(m²)",tableOption:{}},{key:"overallAreaYear",label:"当年累计完成面积(m²)",tableOption:{}},{key:"overallAreaAmount",label:"总体累计完成面积(m²)",tableOption:{}},{key:"progress",label:"订单总进度",tableOption:{}},{key:"capitalBudgeting",label:"投资预算",type:"FormNumber",tableOption:{}},{key:"invested",label:"已投入总资金(元)",tableOption:{}},{key:"startTime",label:"实际处理日期",formSection:"订单处理信息",type:"FormDate",formOption:{rules:["required"]},tableOption:{},searchOption:{wraperProperties:{class:["grid-col-6","grid-col-sm-8","grid-col-ss-10","grid-col-xs-16","grid-col-pp-24"],"label-width":"120px"}}},{key:"planStartTime",label:"计划处理日期",type:"FormDate",tableOption:{}},{key:"planEndTime",label:"计划竣工日期",type:"FormDateRange",tableOption:{},searchOption:{wraperProperties:{class:["grid-col-6","grid-col-sm-8","grid-col-ss-10","grid-col-xs-16","grid-col-pp-24"],"label-width":"120px"}}},{key:"fileIds",label:"附件",formSection:"订单处理信息",type:"FormUpload",formOption:{wraperProperties:{class:["grid-col-24"]},"list-type":"table",accept:"*","auto-load":!0,extra:{btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"buildingChild",label:"子订单列表",formSection:"子订单信息",type:"FormCurd",formOption:{wraperProperties:{class:["grid-col-24"]},extra:{fields:p,entityLabel:"主要植物"}}},{key:"progressTable",type:"slot",formSection:"进度信息",detailOption:{wrapertype:"el-form-item",wraperProperties:{class:["grid-col-24"],"label-width":"0px"}}}],d=[{key:"id",type:"FormHide",formOption:{},searchOption:!0},{key:"monthDate",label:"月份",type:"FormInput",formOption:{properties:{disabled:!0},rules:["required"],span:24},tableOption:{}},{key:"buildingArea",label:"建设总体面积（m²）",type:"FormNumber",formOption:{append:"m²",rules:["required"],span:24},tableOption:{}},{key:"areaProportion",label:"总体完成比例",type:"FormInput",tableOption:{}},{key:"buildingGreenArea",label:"建设绿地面积（m²）",type:"FormNumber",formOption:{append:"m²",rules:["required"],span:24},tableOption:{}},{key:"greenAreaProportion",label:"绿地完成比例",type:"FormInput",tableOption:{}},{key:"buildingWaterArea",label:"建设水体面积（m²）",type:"FormNumber",formOption:{append:"m²",rules:["required"],span:24},tableOption:{}},{key:"waterAreaProportion",label:"水体完成比例",type:"FormInput",tableOption:{}},{key:"buildingMoney",label:"已用资金（元）",type:"FormNumber",formOption:{append:"元",rules:["required"],span:24},tableOption:{}},{key:"remark",label:"备注",type:"FormTextarea",formOption:{span:24},tableOption:{}},{key:"lastUpdateTime",label:"更新时间",type:"FormInput",tableOption:{}}],m=[{type:"FormHide",key:"id",formable:!0},{key:"typeParentDictLabel",label:"设施大类",tableOption:!0},{key:"typeDictId",type:"FormDynamicSelect",label:"设施小类",dictType:"park_equipment_type",tableOption:{key:"typeDictLabel"},formOption:{span:4,rules:["required"]}},{key:"amount",label:"数量",type:"FormNumber",formOption:{col:2,rules:["required"]},tableOption:!0},{key:"transferDate",type:"FormDate",label:"运输中日期",tableOption:{},formOption:{col:2,rules:["required"]}}],u=[{type:"FormHide",key:"id",formable:!0},{key:"plantSpecies",type:"FormInput",label:"植物种类",formOption:{col:2,rules:["required"]},tableOption:!0},{key:"plantSpecificationDictId",type:"FormDynamicSelect",label:"植物规格",dictType:"order_plant_specification",tableOption:{key:"plantSpecificationDictLabel"},formOption:{col:2,rules:["required"]}},{key:"amount",label:"数量",type:"FormNumber",formOption:{col:2,rules:["required"]},tableOption:!0},{key:"transferDate",type:"FormDate",label:"运输中日期",tableOption:{},formOption:{col:2,rules:["required"]}}],b=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"orderLibraryId",type:"FormHide",label:"",formSection:"验收信息",formOption:{}},{key:"id",type:"FormHide",label:"",formSection:"验收信息",formOption:{}},{key:"index",type:"index",label:"序号",tableOption:{width:60}},{key:"admId",label:"行政区划",type:"FormInput",searchOption:{sort:2}},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"orderContractorId",label:"承建商",type:"FormInput",formSection:"验收信息",formOption:{rules:["required"]}},{key:"designGreenArea",label:"设计绿地面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"设计绿地面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"endGreenArea",label:"竣工绿地面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"竣工绿地面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"designGreenCoverArea",label:"设计绿化覆盖面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"设计绿化覆盖面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"endGreenCoverArea",label:"竣工绿化覆盖面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"竣工绿化覆盖面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"designGreenRate",label:"设计绿地率",formSection:"验收信息",type:"FormRateInput",tableOption:{},formOption:{rules:["required"]}},{key:"endGreenRate",label:"竣工绿地率",formSection:"验收信息",type:"FormRateInput",tableOption:{},formOption:{rules:["required"]}},{key:"designWaterArea",label:"设计水体面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"设计水体面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"endWaterArea",label:"竣工水体面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"竣工水体面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"requirementFlag",label:"是否符合设计要求",formSection:"验收信息",type:"FormRadio",options:[{value:!0,label:"是"},{value:!1,label:"否"}],formOption:{rules:["required"]},tableOption:{}},{key:"acceptanceConclusion",label:"验收结论",formSection:"验收信息",type:"FormInput",tableOption:{},formOption:{rules:["required"]}},{key:"transferEndTime",label:"实际竣工日期",formSection:"验收信息",type:"FormDate",formOption:{rules:["required"]},searchOption:{wraperProperties:{class:["grid-col-6","grid-col-sm-8","grid-col-ss-10","grid-col-xs-16","grid-col-pp-24"],"label-width":"120px"}}},{key:"acceptanceTime",label:"完成验收日期",formSection:"验收信息",type:"FormDate",tableOption:{},formOption:{rules:["required"]},searchOption:{wraperProperties:{class:["grid-col-6","grid-col-sm-8","grid-col-ss-10","grid-col-xs-16","grid-col-pp-24"],"label-width":"120px"}}},{key:"orderEvaluate",label:"订单评价",formSection:"验收信息",type:"FormProjectEvaluate",formOption:{}},{key:"orderContractorEvaluate",label:"承建商评价",formSection:"验收信息",type:"FormProjectEvaluate",formOption:{}},{key:"fileIds",label:"附件",formSection:"验收信息",type:"FormUpload",formOption:{col:2,"list-type":"table",accept:"*","auto-load":!0,extra:{btn_text:"上传",tip:"程图纸建议打包上传，单个附件大小限制200 Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"transferArea",label:"运输中总面积",formSection:"运输中信息",type:"FormNumber",tableOption:{label:"运输中总面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"transferGreenArea",label:"运输中绿地面积",formSection:"运输中信息",type:"FormNumber",tableOption:{label:"运输中绿地面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"transferWaterArea",label:"运输中水体面积",formSection:"运输中信息",type:"FormNumber",tableOption:{label:"运输中水体面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"remark",type:"FormTextarea",label:"备注",formSection:"运输中信息",formOption:{span:24}},{key:"plantList",label:"主要植物",formSection:"运输中信息",type:"FormCurd",formOption:{col:2,extra:{fields:u,entityLabel:"主要植物"}}},{key:"equipmentList",type:"FormCurd",label:"附属设施",formSection:"运输中信息",formOption:{col:2,extra:{fields:m,entityLabel:"附属设施"}}}];function y(e){return Object(a["c"])(s,e),Object(a["c"])(c,e),Object(a["c"])(b,e),Object(a["c"])(d,e),console.log("---orderListApi----"),Object(a["c"])(n,e)}function f(e){return Object(a["e"])(s,e)}function h(e){return Object(a["d"])(s,e)}function g(e){return Object(a["a"])(n,e)}function O(e){return console.log("----planProjectDetailApi----",e),Object(a["b"])(s,{id:e})}function v(e){return Object(a["d"])(c,e)}function F(e){return Object(a["e"])(c,e)}function k(e){return console.log("----buildingProjectDetailApi----",e),Object(a["b"])(c,{id:e})}function S(e){return Object(a["e"])(d,e)}function D(e){return Object(a["c"])(d,e)}function L(e){}function P(e){}function x(e){return console.log("----transProjectDetailApi----",e),Object(a["b"])(b,{id:e})}function A(e){return Object(a["b"])(d,{id:e})}function T(e){}function I(e){}var w=[{key:"orderLibraryId",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"id",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"finishDate",label:"完成日期",formSection:"订单处理信息",type:"FormDate",formOption:{rules:["required"]}},{key:"finishArea",label:"完成总面积",formSection:"订单处理信息",type:"FormNumber",formOption:{append:"m²",rules:["required"]}},{key:"finishGreenArea",label:"完成绿地面积",formSection:"订单处理信息",type:"FormNumber",formOption:{append:"m²",rules:["required"]}},{key:"finishWaterArea",label:"完成水体面积",formSection:"订单处理信息",type:"FormNumber",formOption:{rules:["required"],append:"m²"}},{key:"remark",type:"FormTextarea",label:"备注",formSection:"订单处理信息",formOption:{span:24}}],C=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{simple:"",active:e.active,"process-status":"process","align-center":""}},[t("el-step",{attrs:{title:"计划"},on:{click:function(t){e.active=0}}}),t("el-step",{attrs:{title:"处理中"}}),t("el-step",{attrs:{title:"运输中"}}),t("el-step",{attrs:{title:"完成"}})],1),t("DynamicForm",{staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.formItemList,actions:e.actions,data:e.planDetail}})],1)},N=[],j=(i("a9e3"),{name:"PlanForm",props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),formItemList:this.$buildFormFields(s),actions:{save:{apiPromise:h,actionType:"submitAction",componentProperties:{size:"medium"},label:"保存"}},planDetail:{}}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;O(e.id).then((function(e){t.planDetail=e,t.actions.save.apiPromise=f}))}}}),_=j,q=i("2877"),M=Object(q["a"])(_,C,N,!1,null,null,null),$=M.exports,z=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{active:e.active,"process-status":"process","align-center":"",simple:""}},[t("el-step",[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(0)}}},[e._v("1")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(0)}}},[e._v("计划")])])],2),t("el-step",[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(1)}}},[e._v("2")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(1)}}},[e._v("处理中")])])],2),t("el-step",{attrs:{title:"运输中"}}),t("el-step",{attrs:{title:"完成"}})],1),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.planFormItemList,actions:e.planActions,data:e.planDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.buildingFormItemList,actions:e.buildingActions,data:e.buildingDetail},scopedSlots:e._u([{key:"progressTable",fn:function(){return[e.orderLibraryId?t("buildingProgress",{staticClass:"full-width",attrs:{data:{id:e.orderLibraryId},mode:"textMode"}}):e._e()]},proxy:!0}])})],1)},B=[],H=function(){var e=this,t=e._self._c;return t("DynamicCurd",{staticClass:"full-width building-progress",attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises,data:e.data}})},W=[],E="订单进度",G={name:"BuildingProgress",props:{data:{type:[Object,String,Number]},mode:String},data:function(){var e=this;return{entityLabel:E,fields:d,apiPromises:{update:S,list:function(t){return t.orderLibraryId=e.data.id,D(t)}},pageOptions:{searchOption:"textMode"===this.mode?null:{trigger:"change",resetable:!1},topToolBar:null,listOption:{hasCheckbox:!1,properties:{border:"textMode"!==this.mode},lineActions:"textMode"===this.mode?null:{update:{label:"填报",isShow:function(e){return e.isShow},dialog:{container:"el-dialog",properties:{title:"填报订单进度",width:"36%"}}},detail:null,delete:null}},treeOption:null}}}},R=G,U=(i("c312"),Object(q["a"])(R,H,W,!1,null,null,null)),K=U.exports,V={name:"BuildingForm",components:{buildingProgress:K},props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){var e=this;return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),planFormItemList:this.$buildFormFields(s),planActions:{save:{actionType:"submitAction",apiPromise:h,label:"下一步",componentProperties:{size:"medium"},callback:{next:function(t,i){if(e.active=1,!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1}}},planDetail:{},buildingFormItemList:this.textMode?this.$buildDetailFields(c):this.$buildFormFields(c),buildingActions:{save:{actionType:"submitAction",isShow:function(e){return!e.id},componentProperties:{size:"medium"},apiPromise:function(t){return t.orderLibraryId=e.orderLibraryId,v(t)}},update:{actionType:"submitAction",isShow:function(e){return!!e.id},componentProperties:{size:"medium"},apiPromise:function(e){return F(e)}},prev:{actionType:"prev",label:"上一步",component:"el-button",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=0,e.planActions.save.apiPromise=function(e){return f(e)}}}},buildingDetail:{},orderLibraryId:""}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;this.active=1,this.buildingActions.save.apiPromise=F,this.planActions.save.apiPromise=f,k(e.id).then((function(e){t.buildingDetail=e,console.log("----loadDetail-data-----",e),t.orderLibraryId=e.orderLibraryId,O(t.orderLibraryId).then((function(e){t.planDetail=e}))}))},switchStep:function(e){this.textMode&&(this.active=e)}}},J=V,Y=Object(q["a"])(J,z,B,!1,null,null,null),Q=Y.exports,X=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{simple:"",active:e.active,"process-status":"process","align-center":""}},[t("el-step",[t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(0)}}},[e._v("1. 计划")])])],2),t("el-step",[t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(1)}}},[e._v("2. 处理中")])])],2),t("el-step",{attrs:{title:"运输中"}},[t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(2)}}},[e._v("3. 运输中")])])],2),t("el-step",{attrs:{title:"完成"}})],1),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.planFormItemList,actions:e.planActions,data:e.planDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.buildingFormItemList,actions:e.buildingActions,data:e.buildingDetail},scopedSlots:e._u([{key:"progressTable",fn:function(){return[e.orderLibraryId?t("buildingProgress",{attrs:{data:{id:e.orderLibraryId},mode:"textMode"}}):e._e()]},proxy:!0}])}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active===2"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.transFormItemList,actions:e.transActions,data:e.transDetail}})],1)},Z=[],ee={name:"TransForm",components:{buildingProgress:K},props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){var e=this;return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),planFormItemList:this.$buildFormFields(s),planActions:{save:{actionType:"submitActionOption",apiPromise:h,label:"下一步",componentProperties:{size:"medium"},callback:{next:function(t,i){if(e.active=1,!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1}}},planDetail:{},buildingFormItemList:this.textMode?this.$buildDetailFields(c):this.$buildFormFields(c),buildingActions:{save:{actionType:"submitActionOption",label:"下一步",componentProperties:{size:"medium"},isShow:function(e){return!e.id},apiPromise:function(t){if(console.log("----this.orderLibraryId---",e.orderLibraryId),e.orderLibraryId)return t.orderLibraryId=e.orderLibraryId,v(t);console.error("没有orderLibraryId ")},callback:{closeModal:!1,refresh:!1,showTip:!1,reset:!1,next:function(t,i){e.active=2}}},update:{actionType:"submitActionOption",label:"下一步",componentProperties:{size:"medium"},isShow:function(e){return!!e.id},apiPromise:function(t){if(e.orderLibraryId)return F(t);console.error("没有orderLibraryId ")},callback:{closeModal:!1,refresh:!1,showTip:!1,reset:!1,next:function(t,i){e.active=2}}},prev:{actionType:"prev",label:"上一步",component:"el-button",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=0,e.planActions.save.apiPromise=function(e){return f(e)}}}},buildingDetail:{},orderLibraryId:"",transFormItemList:this.$buildFormFields(b),transActions:{save:{actionType:"submitActionOption",apiPromise:L,label:"保存",componentProperties:{size:"medium"},callback:{next:function(t,i){if(!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!0,reset:!1}},prev:{actionType:"prev",label:"上一步",component:"el-button",properties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=1,e.buildingActions.save.apiPromise=function(e){return F(e)}}}},transDetail:{}}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;this.active=2,x(e.id).then((function(e){t.transDetail=e,t.transActions.save.apiPromise=P})).then((function(){t.orderLibraryId=t.transDetail.orderLibraryId,O(t.orderLibraryId).then((function(e){t.planDetail=e,t.planActions.save.apiPromise=f})),k(t.orderLibraryId).then((function(e){t.buildingDetail=e,t.buildingActions.save.apiPromise=F}))}))},switchStep:function(e){this.textMode&&(this.active=e)}}},te=ee,ie=Object(q["a"])(te,X,Z,!1,null,null,null),oe=ie.exports,re=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{active:e.active,"process-status":"process","align-center":"",simple:""}},[t("el-step",{attrs:{simple:""}},[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(0)}}},[e._v("1")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(0)}}},[e._v("计划")])])],2),t("el-step",[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(1)}}},[e._v("2")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(1)}}},[e._v("处理中")])])],2),t("el-step",{attrs:{title:"运输中"}},[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(2)}}},[e._v("3")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(2)}}},[e._v("运输中")])])],2),t("el-step",{attrs:{title:"完成"}},[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(3)}}},[e._v("4")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(3)}}},[e._v("完成")])])],2)],1),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.planFormItemList,actions:e.planActions,data:e.planDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.buildingFormItemList,actions:e.buildingActions,data:e.buildingDetail},scopedSlots:e._u([{key:"progressTable",fn:function(){return[e.orderLibraryId?t("buildingProgress",{attrs:{data:{id:e.orderLibraryId},mode:"textMode"}}):e._e()]},proxy:!0}])}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active===2"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.transFormItemList,actions:e.transActions,data:e.transDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active===3"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.completeFormItemList,actions:e.completeActions,data:e.completeDetail}})],1)},ae=[],ne=i("ade3"),le={name:"CompleteForm",components:{buildingProgress:K},props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){var e=this;return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),planFormItemList:this.$buildFormFields(s),planActions:{save:{actionType:"submitAction",apiPromise:h,label:"下一步",componentProperties:{size:"medium"},callback:{next:function(t,i){if(e.active=1,!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1}}},planDetail:{},buildingFormItemList:this.textMode?this.$buildDetailFields(c):this.$buildFormFields(c),buildingActions:{save:{actionType:"submitActionOption",label:"下一步",isShow:function(e){return!e.id},componentProperties:{size:"medium"},apiPromise:function(t){if(console.log("----this.orderLibraryId---",e.orderLibraryId),e.orderLibraryId)return t.orderLibraryId=e.orderLibraryId,v(t);console.error("没有orderLibraryId ")},callback:{closeModal:!1,refresh:!1,showTip:!1,reset:!1,next:function(t,i){e.active=2}}},update:{actionType:"submitActionOption",label:"下一步",isShow:function(e){return!!e.id},componentProperties:{size:"medium"},apiPromise:function(t){if(e.orderLibraryId)return F(t);console.error("没有orderLibraryId ")},callback:{closeModal:!1,refresh:!1,showTip:!1,reset:!1,next:function(t,i){e.active=2}}},prev:{actionType:"prev",label:"上一步",component:"el-button",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=0,e.planActions.save.apiPromise=function(e){return f(e)}}}},buildingDetail:{},orderLibraryId:"",transFormItemList:this.$buildFormFields(b),transActions:{save:{actionType:"submitActionOption",apiPromise:function(t){if(console.log("----this.orderLibraryId---",e.orderLibraryId),e.orderLibraryId)return L(t);console.error("没有orderLibraryId ")},label:"下一步",componentProperties:{size:"medium"},isShow:function(e){return!e.id},callback:Object(ne["a"])({next:function(t,i){if(!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1},"next",(function(t,i){e.orderLibraryId=i.data,e.active=3}))},update:{actionType:"submitActionOption",label:"下一步",isShow:function(e){return!!e.id},componentProperties:{size:"medium"},apiPromise:function(t){if(console.log("----this.orderLibraryId---",e.orderLibraryId),e.orderLibraryId)return L(t);console.error("没有orderLibraryId ")},callback:Object(ne["a"])({next:function(t,i){if(!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1},"next",(function(t,i){e.active=3}))},prev:{actionType:"prev",label:"上一步",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=1,e.buildingActions.save.apiPromise=function(e){return F(e)}}}},transDetail:{},completeFormItemList:this.$buildFormFields(w),completeActions:{save:{actionType:"submitActionOption",apiPromise:I,label:"保存",componentProperties:{size:"medium"},callback:{next:function(t,i){if(!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1}},prev:{actionType:"prev",label:"上一步",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=2,e.transActions.save.apiPromise=function(e){return P(e)}}}},completeDetail:{}}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;this.active=3,A(e).then((function(i){t.completeDetail=i,t.completeActions.save.apiPromise=T,t.orderLibraryId=t.completeDetail.orderLibraryId||e.orderLibraryId,x(t.orderLibraryId).then((function(e){t.transDetail=e,t.transActions.save.apiPromise=P})),O(t.orderLibraryId).then((function(e){t.planDetail=e,t.planActions.save.apiPromise=f})),k(t.orderLibraryId).then((function(e){t.buildingDetail=e,t.buildingActions.save.apiPromise=F}))}))},switchStep:function(e){this.textMode&&(this.active=e)}}},se=le,pe=Object(q["a"])(se,re,ae,!1,null,null,null),ce=pe.exports,de=function(){var e=this,t=e._self._c;return t("section",{staticClass:"hz-low-code m6",staticStyle:{width:"180px"}},[t("div",[e._v("新增订单状态:")]),t("el-radio-group",{staticClass:"flex flex-direction align-left px12",model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}},[t("el-radio",{staticClass:"mt12",attrs:{label:0}},[e._v("计划")]),t("el-radio",{staticClass:"mt12",attrs:{label:1}},[e._v("处理中")]),t("el-radio",{staticClass:"mt12",attrs:{label:2}},[e._v("运输中")]),t("el-radio",{staticClass:"mt12",attrs:{label:3}},[e._v("完成")])],1)],1)},me=[],ue=i("b526"),be={name:"ProjectRadio",mixins:[ue["a"]],props:{data:{type:Object,default:function(){return{value:0}}}},data:function(){return{}},computed:{},watch:{data:{handler:function(e){this.$emit("change",e.value)},deep:!0,immediate:!0}},mounted:function(){}},ye=be,fe=Object(q["a"])(ye,de,me,!1,null,null,null),he=fe.exports,ge=(i("99af"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-input-box form-item-box",class:"form-unqiue-".concat(e.item.key," ").concat(e.isTextMode?"hz-text-box":"hz-untext-box"),style:e.item.style||{}},[t("el-rate",{staticClass:"mb8",attrs:{value:e.val.grade,"allow-half":!0,disabled:e.isDisabled},on:{change:e.rateChange}}),e.isTextMode?t("div",{staticClass:"form-input-text",style:e.item.textStyle||{}},[t("span",{staticClass:"text"},[e._v(e._s(e.val.evaluate||"-"))])]):t("el-input",e._b({attrs:{value:e.val.evaluate,disabled:e.isDisabled,placeholder:e.placeholder,type:"text"},on:{blur:function(t){return e.onBlur(t)},focus:function(t){return e.onFocus(t)},input:e.evaluateChange}},"el-input",e.bindOptions,!1))],1)}),Oe=[],ve=i("56e9"),Fe={name:"FormProjectEvaluate",mixins:[ve["a"]],computed:{val:{get:function(){return this.value instanceof Object?this.value:{grade:0,evaluate:""}},set:function(e){this.$emit("input",e),this.formMethods.valueUpdateEvent(Object(ne["a"])({},this.item.key,e))}}},methods:{rateChange:function(e){this.val={grade:e,evaluate:this.val.evaluate}},evaluateChange:function(e){this.val={evaluate:e,grade:this.val.grade}}}},ke=Fe,Se=Object(q["a"])(ke,ge,Oe,!1,null,null,null),De=Se.exports,Le=i("2b0e");console.log("---orderRadio----",he),Le["default"].component("PlanForm",$),Le["default"].component("BuildingForm",Q),Le["default"].component("TransForm",oe),Le["default"].component("CompleteForm",ce),Le["default"].component("FormProjectEvaluate",De),Le["default"].component("OrderRadio",he);var Pe="订单库管理",xe={"子订单信息":{hidden:!0}},Ae=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"id",type:"FormHide",label:"",formOption:{}},{key:"admId",label:"行政区划",type:"FormInput",searchOption:!0},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"overallArea",label:"总体规划面积",type:"FormNumber",tableOption:{}},{key:"greenArea",label:"绿地规划面积",type:"FormNumber",tableOption:{}},{key:"waterArea",label:"水体规划面积",type:"FormNumber",tableOption:{}},{key:"capitalBudgeting",label:"投资预算",type:"FormNumber",tableOption:{}},{key:"buildType",label:"建设类型",type:"FormSelect",options:[{value:0,label:"新建"},{value:1,label:"占绿恢复"},{value:2,label:"改建"}],tableOption:{},searchOption:{}},{key:"useLandDictId",label:"用地性质",type:"FormDynamicSelect",dictType:"order_use_land",searchOption:{},tableOption:{key:"useLandDictLabel"}},{key:"orderAttributeDictId",label:"订单属性",type:"FormDynamicSelect",dictType:"order_attribute",tableOption:{key:"orderAttributeDictLabel"},searchOption:{}},{key:"orderTypeDictId",label:"订单类别",type:"FormDynamicSelect",dictType:"order_type",tableOption:{key:"orderTypeDictLabel"},searchOption:{}},{key:"orderStatus",label:"订单状态",type:"FormSelect",options:[{value:0,label:"已支付"},{value:1,label:"处理中"},{value:2,label:"运输中"},{value:3,label:"已完成"}],tableOption:{},searchOption:{}}],Te={0:"planForm",1:"buildingForm",2:"transForm",3:"completeForm"},Ie={name:"ProjectList",data:function(){var e=this,t=this;return{orderStatus:0,entityLabel:Pe,fields:Ae,apiPromises:{create:h,bulkdelete:g,list:y,detail:void 0,update:f},pageOptions:{tableUp:{component:"DyTmpl",properties:{tmpl:'总数量:<span class="text-blue py4 px4">#{num}</span>,总数量1:<span class="text-red py4 px4">#{num1}</span>',data:{num:123254,num1:5546}}},topToolBar:{create:null,add:{label:"新增",sort:5,isLoadData:!1,actionType:"routerDialogPageAction",msgBox:{message:this.$createElement(he,{key:(new Date).getTime(),on:{change:function(e){t.orderStatus=e}}})},actionHook:function(e,i){e.dialog.body[0].component=Te[t.orderStatus||0]},componentProperties:{type:"primary",icon:"el-icon-plus"},containerProperties:{title:"新增订单"},body:[{component:"planForm",name:"@object@",label:"",props:{class:["grid-col-24"]}}]}},listOption:{actionColWidth:240,lineActions:{update:null,detail:null,building:{label:"转处理中",actionType:"dialogFormAction",isShow:function(e){return"0"==e.orderStatus},permission:"转处理中",dataAdapter:function(e){return e.orderLibraryId=e.id,e},colNum:1,containerProperties:{title:"转处理中",width:"40%"},formItemList:this.$buildFormFields(c,xe),saveAction:{actionType:"submitAction",apiPromise:v}},trans:{label:"转运输中",actionType:"dialogFormAction",isShow:function(e){return"1"==e.orderStatus},permission:"转运输中",dataAdapter:function(e){return e.orderLibraryId=e.id,e},container:"DyPage",containerProperties:{title:"转运输中"},formItemList:this.$buildFormFields(b),saveAction:{actionType:"submitActionOption",apiPromise:L}},complete:{label:"转完成",actionType:"dialogFormAction",isShow:function(e){return"2"==e.orderStatus},permission:"转完成",dataAdapter:function(e){return e.orderLibraryId=e.id,e},colNum:1,containerProperties:{title:"转完成",width:"40%"},formItemList:this.$buildFormFields(w),saveAction:{actionType:"submitActionOption",apiPromise:I}},modify:{label:"修改",actionType:"dialogPageActionOption",permission:"修改",router:function(t){return{path:e.$route.path,query:{orderStatus:t.orderStatus,id:t.id}}},actionHook:function(e,t){var i=parseInt(t.orderStatus);e.dialog.body[0].component=Te[i]},containerProperties:{title:"修改订单信息"},container:"DyPage",body:[{component:"planForm",name:"@object@",props:{class:["grid-col-24"]}}]},view:{label:"详情",actionType:"dialogPageAction",router:function(t){return{path:e.$route.path,query:{orderStatus:t.orderStatus,id:t.id}}},actionHook:function(t,i){var o=parseInt(i.orderStatus);e.$set(t.dialog.body[0],"component",Te[o])},dataAdapter:function(e){return e.orderLibraryId=e.id,e},container:"DyPage",containerProperties:{title:"订单详情"},body:[{component:"planForm",name:"@object@",props:{class:["grid-col-24"],textMode:!0}}]}}},treeOption:null}}},created:function(){}},we=Ie,Ce=Object(q["a"])(we,o,r,!1,null,null,null);t["default"]=Ce.exports}}]);