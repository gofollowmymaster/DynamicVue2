(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["multilevel_menu_example"],{"065d":function(e,t,a){},"0cf0":function(e,t,a){},"28ba":function(e,t,a){"use strict";a.r(t);var i=a("5530"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[t("DynamicPageWrapper",{staticClass:"flex1",attrs:{actions:Object(i["a"])(Object(i["a"])({},e.topToolBar),e.tableOption.lineActions),"entity-label":"不动产管理"}},[t("dyBrandBar",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("不动产管理")])]),t("curdLayout",{attrs:{mode:"tb",scene:"page"}},[t("DynamicSearchForm",{attrs:{slot:"top",fields:e.searchFields,options:e.searchOption},on:{search:e.onSearch},slot:"top"}),t("section",{attrs:{slot:"bottom"},slot:"bottom"},[t("DynamicActions",{attrs:{actions:e.topToolBar,"action-data":e.selected,"action-bar-wraper":e.$el}}),t("section",{staticClass:"grid-wrap mt24 full-width"},[t("section",{staticClass:"flex flex-direction",class:["grid-col-24"]},[t("DynamicTable",{staticClass:"table-wraper flex1",attrs:{table:e.tableOption,columns:e.tableFields,"api-promise":e.loadListApi},on:{"selection-change":e.selectChange}}),t("el-pagination",e._b({staticClass:"mt24 text-right",attrs:{background:"",total:e.total,"page-size":e.pagination.pageSize},on:{"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.pagination,!1))],1)])],1)],1)],1)],1)},o=[],r=a("6e00"),s=a("fec1"),l=a("2698"),c=Object(r["c"])(l["a"]),p=Object(r["d"])(l["a"]),u=Object(r["e"])(l["a"]),d={name:"StreetTree",data:function(){return{fields:l["a"],apiPromises:{save:s["o"]},searchFields:p,searchOption:this.$dynamicConfig["searchOption"],topToolBar:{create:{isLoadData:!1,label:"新增",actionType:"routerDialogFormAction",componentProperties:{icon:"el-icon-plus",type:"primary"},container:"dy-page",containerProperties:{title:"新增不动产"},formItemList:c,saveAction:{actionType:"submit",label:"保存",apiPromise:s["o"]}},bulkdelete:{label:"批量删除",actionType:"requestApiAction",apiPromise:s["l"],msgBox:this.$dynamicConfig["msgBoxTipOptions"]}},tableOption:this.$appendToPreset("tableOption",{loadListApi:s["n"],"current-change":"handleCurrentChange",lineActions:{update:{label:"编辑",actionType:"routerDialogFormAction",apiPromise:s["m"],container:"dy-page",containerProperties:{title:"更新不动产"},colNum:3,formItemList:c,saveAction:{apiPromise:s["p"]}},detail:{label:"查看",actionType:"routerDialogFormAction",container:"dy-page",apiPromise:s["m"],containerProperties:{title:"查看不动产",width:"60%"},borderForm:!1,textMode:!0,"label-position":"right",formItemList:c},delete:{label:"删除",actionType:"requestApiAction",componentProperties:{class:["text-grey-dark2"]},apiPromise:s["l"],msgBox:this.$dynamicConfig["msgBoxTipOptions"]}}}),tableFields:u,pagination:Object(i["a"])(Object(i["a"])({},this.$dynamicConfig["pagination"]),{},{pageNo:1}),searchParams:{refreshKey:""},selected:[],total:1,currentDialogForm:{visible:{value:!1}},currentDialogPage:{visible:{value:!1}}}},computed:{queryParams:function(){return Object(i["a"])(Object(i["a"])({},this.searchParams),{},{pageNo:this.pagination.pageNo,pageSize:this.pagination.pageSize})},loadListApi:function(){var e=this;return this.tableOption.loadListApi(this.queryParams).then((function(t){return t=t.data||t,e.total=t.totalCount,t.list}))}},created:function(){},mounted:function(){var e=this;this.$dynamicBus.$on("dynamicRefresh",(function(){e.refresh()}))},methods:{refresh:function(){var e=this.searchParams.refreshKey+1;this.onSearch({refreshKey:e})},handleSizeChange:function(e){this.refresh()},handleCurrentChange:function(e){this.pagination.pageNo=e,this.onSearch({pageNo:e})},onSearch:function(e){this.searchParams=Object(i["a"])(Object(i["a"])({},this.searchParams),e)},selectChange:function(e){this.selected=e}}},m=d,b=(a("d4c4"),a("2877")),g=Object(b["a"])(m,n,o,!1,null,"1760a088",null);t["default"]=g.exports},4039:function(e,t,a){"use strict";a("065d")},"8af3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[e.pageOptions?t("DynamicCurdPage",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"page-optionsprops":e.pageOptions,"api-promises":e.apiPromises}}):e._e()],1)},n=[],o=a("fec1"),r=a("51c2"),s=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},l=[],c=a("5530"),p=(a("a9e3"),a("0c6d"),a("0232"));function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p["c"])(r["b"],e)}function d(e){return Object(p["b"])(r["b"],e)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p["c"])(r["c"],e)}function b(e){return Object(p["b"])(r["c"],e)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p["c"])(r["d"],e)}function h(e){return Object(p["b"])(r["d"],e)}var y="养护记录",f={name:"MaitainLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:y,fields:r["b"],apiPromises:{list:function(t){return u(Object(c["a"])({treeMangeId:e.data.id},t))},detail:d},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return"/assets/manage/maitain?id=".concat(e.id,"&action=detail")},routerAction:"push"},delete:null}},treeOption:null}}}},O=f,T=a("2877"),v=Object(T["a"])(O,s,l,!1,null,null,null),P=v.exports,A=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},C=[],D="养护记录",L={name:"ProtectLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:D,fields:r["c"],apiPromises:{list:function(t){return m(Object(c["a"])({treeMangeId:e.data.id},t))},detail:b},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return"/assets/manage/protect?id=".concat(e.id,"&action=detail")},routerAction:"push"},delete:null}},treeOption:null}}}},x=L,S=Object(T["a"])(x,A,C,!1,null,null,null),j=S.exports,w=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},F=[],k="转移记录",N={name:"TransLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:k,fields:r["d"],apiPromises:{list:function(t){return g(Object(c["a"])({treeMangeId:e.data.id},t))},detail:h},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return"/assets/manage/trans?id=".concat(e.id,"&action=detail")},routerAction:"push"},delete:null}}}}}},$=N,B=Object(T["a"])($,w,F,!1,null,null,null),_=B.exports,z=a("2b0e");z["default"].component("MaitainLog",P),z["default"].component("ProtectLog",j),z["default"].component("TransLog",_);var I="资产",M={name:"AssetsManage",data:function(){return{entityLabel:I,fields:r["a"],apiPromises:{create:o["e"],bulkdelete:o["a"],list:o["d"],detail:o["c"],update:o["f"]},pageOptions:{topToolBar:{export:{apiPromise:o["g"],actionType:"downloadAction",label:"导出",actionDataKey:"queryParams"}},listOption:{lineActions:{detail:null,detail2:{label:"详情",actionType:"routerDialogPageAction",permission:"详情",containerProperties:{title:I+"详情"},layout:"LayoutTabs",body:[{component:"DynamicForm",name:"@object@",label:"基本信息",props:this.$appendToPreset("dynamicFormOption",{apiPromise:o["b"],formItemList:this.$buildDetailFields(r["a"]),formOption:{borderForm:!1,textMode:!0,formProperties:{"label-position":"right"}},actions:null},!0)},{component:"maitainLog",label:"养护记录",name:"@object@"},{component:"protectLog",label:"保护记录",name:"@object@"},{component:"transLog",label:"转移记录",name:"@object@"}]}}},treeOption:null}}}},W=M,q=Object(T["a"])(W,i,n,!1,null,null,null);t["default"]=q.exports},"8bd9":function(e,t,a){},"8ca6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width p20 bg-white"},[t("DynamicSection",{attrs:{data:e.pageData,body:e.body}})],1)},n=[],o=(a("d81d"),a("13d5"),a("d3b7"),a("fb6a"),a("4260")),r=a("fec1"),s=[{key:"statisticType",type:"FormRadio",label:"所属类目",options:[{label:"等级",value:"protectLev"},{label:"使用状况",value:"growStatus"},{label:"使用年数",value:"treeAge"},{label:"资产类型",value:"treeSpecies"}],searchOption:{wraperProperties:{class:["grid-col-16","grid-col-lg-12","grid-col-md-14"]},groupProperties:{size:"small"},properties:{button:!0,border:!0,style:{width:"120px"}}}}],l={name:"AssetsStatistic",components:{},data:function(){return{pageData:{statisticType:{statisticType:"protectLev"},protectLev:{"":[]},growStatus:{"":[]},treeAge:{"":[]},treeSpecies:{"":[]},protectLevTable:[],growStatusTable:[],treeAgeTable:[],treeSpeciesTable:[]},num:100,layout:{name:"LayoutGrid"}}},computed:{body:function(){var e=Object(o["d"])(s);return e.push({key:"tip",type:"FormText",wraperProperties:{class:["grid-col-8"]},searchOption:{content:"该区域下固定资产总共".concat(this.num,"台")}}),[{component:"DynamicSearchForm",name:"statisticType",props:this.$appendToPreset("searchOption",{class:["grid-col-24"],options:{properties:{"label-width":"80px","label-position":"right"},borderForm:!1,trigger:"change",resetable:!1},fields:this.$buildSearchFields(e)})},{component:"componentWithTitle",name:"protectLev",key:"protectLevChart",hidden:"protectLev"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"protectLevTable",key:"protectLevTable",hidden:"protectLev"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:this.$appendToPreset("tableOption",{hasCheckbox:!1}),columns:[{key:"label",label:"等级"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"growStatus",key:"growStatusChart",hidden:"growStatus"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"growStatusTable",key:"growStatusTable",hidden:"growStatus"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:this.$appendToPreset("tableOption",{hasCheckbox:!1}),columns:[{key:"label",label:"使用状况"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"treeAge",key:"treeAgeChart",hidden:"treeAge"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"treeAgeTable",key:"treeAgeTable",hidden:"treeAge"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:this.$appendToPreset("tableOption",{hasCheckbox:!1}),columns:[{key:"label",label:"使用年数"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"treeSpecies",key:"treeSpeciesChart",hidden:"treeSpecies"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-24"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"treeSpeciesTable",key:"treeSpeciesTable",hidden:"treeSpecies"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-24"],style:{height:"300px"},title:"统计表",table:this.$appendToPreset("tableOption",{hasCheckbox:!1}),columns:[{key:"label",label:"资产类型"},{key:"value",label:"台资产"}],extraOptions:{}}}]}},created:function(){this.loadData()},methods:{onSearch:function(e){},loadData:function(){var e=this;Object(r["i"])().then((function(t){e.pageData.protectLev={"等级":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.protectLevTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}})),e.num=t.reduce((function(e,t){return e+t.countNumber}),0)})),Object(r["h"])().then((function(t){e.pageData.growStatus={"使用状况":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.growStatusTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))})),Object(r["j"])().then((function(t){e.pageData.treeAge={"使用年数":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.treeAgeTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))})),Object(r["k"])().then((function(t){e.pageData.treeSpecies={"资产类型":t.map((function(e){var t;return{value:e.countNumber,label:null===(t=e.categoryName)||void 0===t?void 0:t.slice(0,5)}}))},e.pageData.treeSpeciesTable=t.map((function(e){var t;return{value:e.countNumber,label:null===(t=e.categoryName)||void 0===t?void 0:t.slice(0,5)}}))}))}}},c=l,p=(a("9d5f"),a("2877")),u=Object(p["a"])(c,i,n,!1,null,"401fef1e",null);t["default"]=u.exports},"9d5f":function(e,t,a){"use strict";a("0cf0")},d334:function(e,t,a){"use strict";a.r(t);var i=a("5530"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[t("DynamicPageWrapper",{attrs:{actions:Object(i["a"])({},e.pendingPageOptions.listOption.lineActions),"api-promises":e.pendingApiPromises,"entity-label":"不动产管理"}},[t("LayoutTabs",{staticClass:"pt12"},[t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.warningFields,"options-props":e.pendingPageOptions,"api-promises":e.pendingApiPromises,scene:"page",mode:"dialog",label:"待处理警告",origin:"pending"}}),t("DynamicCurd",{attrs:{scene:"page",mode:"dialog","entity-label":e.entityLabel,fields:e.warningProcessedFields,"options-props":e.processedPageOptions,"api-promises":e.processedApiPromises,label:"已处理警告",origin:"processed"}})],1)],1)],1)},o=[],r=(a("d3b7"),a("fec1")),s=a("d77b"),l="告警信息",c={name:"WarningManage",components:{},data:function(){return{entityLabel:l,warningFields:s["d"],warningProcessedFields:s["e"],pendingApiPromises:{bulkdelete:r["s"],list:r["t"],detail:r["q"]},processedApiPromises:{list:r["u"],detail:r["q"],bulkdelete:r["s"]},pendingPageOptions:{topToolBar:null,listOption:{lineActions:{update:null,atransToEvent:{actionType:"dialogFormAction",label:"转事件",sort:0,permission:"",containerProperties:{title:"转事件",width:"70%"},colNum:2,formItemList:this.$buildFormFields(s["a"]),formDataUpdateHandle:function(e,t){},saveAction:{label:"转事件提交",apiPromise:function(){return Promise.resolve()}}},handleForm:{label:"处理",actionType:"dialogFormAction",sort:1,permission:"",dataAdapter:function(e){return{treeGiveAnAlarmId:e.id,treatmentMethod:2}},containerProperties:{title:"现场处理",width:"36%"},formItemList:this.$buildFormFields(s["b"]),colNum:1,saveAction:{label:"处理",apiPromise:r["r"]}},unhandleForm:{label:"不予处理",actionType:"dialogFormAction",sort:1,permission:"",dataAdapter:function(e){return{treeGiveAnAlarmId:e.id,treatmentMethod:3}},containerProperties:{title:"不予处理",width:"36%"},colNum:1,formItemList:this.$buildFormFields(s["c"]),formDataUpdateHandle:function(e,t){},saveAction:{label:"不予处理",apiPromise:r["v"]}},delete:{origin:"pending"}}},treeOption:null},processedPageOptions:{topToolBar:null,listOption:{lineActions:{update:null,delete:{origin:"processed"}}}}}}},p=c,u=(a("4039"),a("2877")),d=Object(u["a"])(p,n,o,!1,null,"02e9314d",null);t["default"]=d.exports},d4c4:function(e,t,a){"use strict";a("8bd9")}}]);