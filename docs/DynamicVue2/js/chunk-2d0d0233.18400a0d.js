(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0233"],{6762:function(e,t,a){"use strict";a.r(t);var r=a("d4ec"),n=a("bee2"),i=a("ade3"),o=(a("d3b7"),a("159b"),a("99af"),a("caad"),a("843c"),a("fb6a"),a("d9e2"),a("07ac"),a("70a8")),c=a("ad85"),u={StandardData:0,BorderData:1,OutLimitData:2},m=function(){function e(t){Object(r["a"])(this,e),Object(i["a"])(this,"DataType",u.StandardData),Object(i["a"])(this,"exceptOutLimitKeys",[]),Object(i["a"])(this,"customizeFn",{}),this.formIns=t}return Object(n["a"])(e,[{key:"setDataType",value:function(e){"standard"===e?this.DataType=u.StandardData:"border"===e?this.DataType=u.BorderData:"outlimit"===e&&(this.DataType=u.OutLimitData)}},{key:"makeValue",value:function(){var e=this,t=this.formIns.formItemList,a={};return t.forEach((function(t){t.children instanceof Array&&t.children.forEach((function(t){var r=t.key,n=t.label;if(e.customizeFn[r]){if("function"!==typeof e.customizeFn[r])return console.error("字段：".concat(r,"，描述：").concat(n,"，其传入自定义校验配置，但配置不是函数，请检查"));a[r]=e.customizeFn[r](e.DataType)}["FormTextarea","FormInput"].includes(t.type)?a[t.key]=e.makeInputValue(t):["FormSelect","FormRadio","FormMulSelect"].includes(t.type)?a[t.key]=e.makeSelectRadioValue(t):["FormNumber","FormNumberPlus","FormRateInput"].includes(t.type)?a[t.key]=e.makeNumberValue(t):["FormDynamicSelect"].includes(t.type)?a[t.key]=e.makeDynamicSelectValue(t)||"1":["FormDate","FormDateTime","FormDateRange","FormDateTimeRange"].includes(t.type)&&(a[t.key]=e.makeDateValue(t)||"1")}))})),a}},{key:"loadRules",value:function(e){var t,a,r,n,i=e.rules;return i&&i.length>0&&i.forEach((function(e){e.required?r=!0:(e.max&&(t=e.max),e.min&&(a=e.min),e.type&&(n=e.type))})),{max:t,min:a,required:r,type:n}}},{key:"makeInputValue",value:function(e){var t,a=e.key,r=e.label,n=this.loadRules(e),i=n.max,o=n.min,c=n.required;if(this.DataType===u.OutLimitData&&-1===this.exceptOutLimitKeys.indexOf(a)){var m="".concat(r);return i?m=m.padEnd(i+1,"Test"):o?m=m.padEnd(o,"Test").slice(0,o-1):c?m="":console.error("字段：".concat(a,"，描述：").concat(r,"，无法生成符合超限数据，请检查 fields 的配置。默认使用 label 作为数据")),m}if(this.DataType===u.BorderData){var l="".concat(r);return l=i?l.padEnd(i+1,"Test").slice(0,i):o?l.padEnd(o,"Test").slice(0,o):c?"".concat(r):"",l}t=i&&o?Math.floor((i+1-o)*Math.random())+o:i?Math.floor((i+1)*Math.random()):o?Math.floor((21-o)*Math.random()):Math.floor(21*Math.random());var s="".concat(r);return s=s.padEnd(t,"Test").slice(0,t+1),s}},{key:"makeSelectRadioValue",value:function(e){var t,a=e.key,r=e.options,n=this.loadRules(e),i=n.required;return this.DataType===u.OutLimitData&&-1===this.exceptOutLimitKeys.indexOf(a)?(t=i?r[0].value:"",t):(t=r[Math.floor(Math.random()*r.length)].value,"FormMulSelect"===e.type&&(t=[t]),t)}},{key:"makeDynamicSelectValue",value:function(e){var t,a=this.formIns.$refs[e.key][0];if(!a.$refs.formitem)throw new Error("获取动态表单实力失败");var r=a.$refs.formitem,n=r.dynamicDict,i=Object.values(n).length,c=Object(o["f"])(i-1),u=null===(t=Object.values(n)[c])||void 0===t?void 0:t[r.dictValue],m=n[u],l=null===m||void 0===m?void 0:m[r.dictValue];return l}},{key:"makeDateValue",value:function(e){switch(e.type){case"FormDate":return Object(c["a"])(new Date,"yyyy-MM-dd");case"FormDateTime":return Object(c["a"])(new Date,"yyyy-MM-dd hh:mm:ss");case"FormDateRange":return Object(c["a"])(new Date,"yyyy-MM-dd")+"-"+Object(c["a"])((new Date).getTime-2592e6,"yyyy-MM-dd");case"FormDateTimeRange":return Object(c["a"])(new Date,"yyyy-MM-dd hh:mm:ss")+"-"+Object(c["a"])((new Date).getTime-2592e6,"yyyy-MM-dd hh:mm:ss")}}},{key:"makeNumberValue",value:function(e){var t,a=e.key,r=e.label,n=this.loadRules(e),i=n.max,o=n.min,c=n.required;if(this.DataType===u.OutLimitData&&-1===this.exceptOutLimitKeys.indexOf(a)){var m="".concat(r);return i?m=i+1:o?m=o-1:c?m=null:console.error("字段：".concat(a,"，描述：").concat(r,"，无法生成符合超限数据，请检查 fields 的配置。默认使用 label 作为数据")),"FormRateInput"===e.type&&(m/=100),m}if(this.DataType===u.BorderData){var l="".concat(r);return l=i||(o||1),"FormRateInput"===e.type&&(l/=100),l}return t=i&&o?(i+o)/2:i?i-1:o?o+1:Math.floor(100*Math.random()),"FormRateInput"===e.type&&(t/=100),t}}]),e}();t["default"]=m}}]);