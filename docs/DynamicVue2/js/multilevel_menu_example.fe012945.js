(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["multilevel_menu_example"],{"28ba":function(e,t,i){"use strict";i.r(t);var a=i("5530"),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:""},[t("DynamicPageWrapper",{staticClass:"flex1",attrs:{actions:Object(a["a"])(Object(a["a"])({},e.topToolBar),e.tableOption.lineActions),"entity-label":"不动产管理"}},[t("dyBrandBar",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("不动产管理")])]),t("curdLayout",{attrs:{mode:"tb",scene:"page"}},[t("DynamicSearchForm",{attrs:{slot:"top",fields:e.searchFields},on:{search:e.onSearch},slot:"top"}),t("section",{attrs:{slot:"bottom"},slot:"bottom"},[t("DynamicActions",{attrs:{actions:e.topToolBar,"action-data":e.selected,"action-bar-wraper":e.$el}}),t("section",{staticClass:"grid-wrap mt24 full-width"},[t("section",{staticClass:"flex flex-direction",class:["grid-col-24"]},[t("DynamicTable",{staticClass:"table-wraper flex1",attrs:{table:e.tableOption,columns:e.tableFields,"api-promise":e.loadListApi},on:{"selection-change":e.selectChange}}),t("el-pagination",e._b({staticClass:"mt24 text-right",attrs:{background:"",total:e.total,"page-size":e.pagination.pageSize},on:{"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.pagination,!1))],1)])],1)],1)],1)],1)},r=[],n=i("6e00"),l=i("fec1"),s=i("2698"),p=Object(n["b"])(s["a"],s["b"]),c=Object(n["c"])(s["a"]),d=Object(n["d"])(s["a"]),m={name:"FixedAssets",data:function(){return{fields:s["a"],apiPromises:{save:l["m"]},searchFields:c,topToolBar:{link:{isLoadData:!1,actionType:"link",link:"http://www.baidu.com",window:"_blank"},create:{isLoadData:!1,label:"新增",actionType:"routerDialogFormAction",componentProperties:{icon:"el-icon-plus",type:"primary"},containerProperties:{title:"新增不动产"},formItemList:p,saveAction:{actionType:"submit",label:"保存",apiPromise:l["m"]}},bulkdelete:{label:"批量删除",actionType:"requestApiAction",apiPromise:l["j"],msgBox:this.$dynamicConfig["msgBoxTipOptions"]}},tableOption:{loadListApi:l["l"],"current-change":"handleCurrentChange",lineActions:{update:{label:"编辑",actionType:"routerDialogFormAction",apiPromise:l["k"],containerProperties:{title:"更新不动产"},borderForm:!1,colNum:2,formItemList:p,saveAction:{apiPromise:l["n"]}},detail:{label:"查看",actionType:"routerDialogFormAction",apiPromise:l["k"],containerProperties:{title:"查看不动产"},borderForm:!1,textMode:!0,"label-position":"right",formItemList:p},delete:{label:"删除",actionType:"requestApiAction",componentProperties:{class:["text-grey-dark2"]},apiPromise:l["j"],msgBox:this.$dynamicConfig["msgBoxTipOptions"]}}},tableFields:d,pagination:Object(a["a"])(Object(a["a"])({},this.$dynamicConfig["pagination"]),{},{pageNo:1}),searchParams:{refreshKey:""},selected:[],total:1}},computed:{queryParams:function(){return Object(a["a"])(Object(a["a"])({},this.searchParams),{},{pageNo:this.pagination.pageNo,pageSize:this.pagination.pageSize})},loadListApi:function(){var e=this;return this.tableOption.loadListApi(this.queryParams).then((function(t){return t=t.data||t,e.total=t.total||t.totalCount,t.list}))}},created:function(){},mounted:function(){var e=this;this.$dynamicBus.$on("dynamicRefresh",(function(){e.refresh()}))},methods:{refresh:function(){var e=this.searchParams.refreshKey+1;this.onSearch({refreshKey:e})},handleSizeChange:function(e){this.refresh()},handleCurrentChange:function(e){this.pagination.pageNo=e,this.onSearch({pageNo:e})},onSearch:function(e){this.searchParams=Object(a["a"])(Object(a["a"])({},this.searchParams),e)},selectChange:function(e){this.selected=e}}},u=m,b=(i("ddf9"),i("2877")),y=Object(b["a"])(u,o,r,!1,null,"ed879036",null);t["default"]=y.exports},"2b02":function(e,t,i){"use strict";i("87f5")},3933:function(e,t,i){},"82f4":function(e,t,i){"use strict";i("f65b")},"87f5":function(e,t,i){},"8af3":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[e.pageOptions?t("DynamicCurdPage",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"page-optionsprops":e.pageOptions,"api-promises":e.apiPromises}}):e._e()],1)},o=[],r=i("fec1"),n=i("51c2"),l=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},s=[],p=i("5530"),c=(i("a9e3"),i("0232"));function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["c"])(n["b"],e)}function m(e){return Object(c["b"])(n["b"],e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c["c"])(n["d"],e)}function b(e){return Object(c["b"])(n["d"],e)}var y="维护记录",f={name:"MaitainLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:y,fields:n["b"],apiPromises:{list:function(t){return d(Object(p["a"])({assetsId:e.data.id},t))},detail:m},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return""},routerAction:"push"},delete:null}}}}}},h=f,g=i("2877"),v=Object(g["a"])(h,l,s,!1,null,null,null),O=v.exports,F=function(){var e=this,t=e._self._c;return t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises}})},k=[],S="转移记录",D={name:"TransLog",components:{},props:{data:{type:[Object,String,Number]}},data:function(){var e=this;return{entityLabel:S,fields:n["d"],apiPromises:{list:function(t){return u(Object(p["a"])({assetsId:e.data.id},t))},detail:b},pageOptions:{topToolBar:null,listOption:{lineActions:{update:null,detail:{label:"查看",actionType:"routerAction",router:function(e){return""},routerAction:"push"},delete:null}}}}}},T=D,x=Object(g["a"])(T,F,k,!1,null,null,null),P=x.exports,A=i("2b0e");A["default"].component("MaitainLog",O),A["default"].component("TransLog",P);var w="资产",L={name:"AssetsManage",data:function(){return{entityLabel:w,fields:n["a"],apiPromises:{create:r["g"],bulkdelete:r["c"],list:r["f"],detail:r["e"],update:r["h"]},pageOptions:{treeOption:{fieldName:"assetType",data:[{id:1,label:"精密资产",children:[{id:4,label:"通用资产"},{id:5,label:"三级 3-1-2",disabled:!0}]},{id:2,label:"高新设备",disabled:!0,children:[{id:3,label:"浮动资产"},{id:7,label:"三级 3-2-2",disabled:!0}]}]},topToolBar:{export:{apiPromise:r["i"],actionType:"downloadAction",label:"导出",actionDataKey:"queryParams"}},listOption:{lineActions:{detail:null,detail2:{label:"详情",actionType:"routerDialogPageAction",permission:"详情",containerProperties:{title:w+"详情"},layout:"LayoutTabs",body:[{component:"DynamicForm",name:"@object@",label:"基本信息",props:this.$appendToPreset("dynamicFormOption",{apiPromise:r["d"],formItemList:this.$buildDetailFields(n["a"]),formOption:{borderForm:!1,textMode:!0,formProperties:{"label-position":"right"}},actions:null},!0)},{component:"maitainLog",label:"维护记录",name:"@object@"},{component:"transLog",label:"转移记录",name:"@object@"}]}}}}}}},I=L,C=Object(g["a"])(I,a,o,!1,null,null,null);t["default"]=C.exports},"8ca6":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width bg-white"},[t("dyBrandBar",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("不动产统计")])]),t("DynamicSection",{staticClass:"p24",attrs:{data:e.pageData,body:e.body}})],1)},o=[],r=(i("d81d"),i("13d5"),i("d3b7"),i("fb6a"),i("4260")),n=i("fec1"),l=[{key:"statisticType",type:"FormRadio",label:"所属类目",options:[{label:"等级",value:"protectLev"},{label:"使用状况",value:"growStatus"},{label:"使用年数",value:"assetsAge"},{label:"资产类型",value:"assetsSpecies"}],searchOption:{wraperProperties:{class:["grid-col-16","grid-col-lg-12","grid-col-md-14"]},groupProperties:{size:"small"},button:!0,itemProperties:{style:{width:"120px"},border:!0}}}],s={name:"AssetsStatistic",components:{},data:function(){return{pageData:{statisticType:{statisticType:"protectLev"},protectLev:{"":[]},growStatus:{"":[]},assetsAge:{"":[]},assetsSpecies:{"":[]},protectLevTable:[],growStatusTable:[],assetsAgeTable:[],assetsSpeciesTable:[]},num:100,layout:{name:"LayoutGrid"}}},computed:{body:function(){var e=Object(r["d"])(l);return e.push({key:"tip",type:"FormText",span:8,searchOption:{content:"该区域下固定资产总共".concat(this.num,"台")}}),[{component:"DynamicSearchForm",name:"statisticType",props:{class:["grid-col-24"],options:{properties:{"label-width":"100px","label-position":"right"},borderForm:!1,trigger:"change",resetable:!1,testTool:!1},fields:this.$buildSearchFields(e)}},{component:"componentWithTitle",name:"protectLev",key:"protectLevChart",hidden:"protectLev"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"protectLevTable",key:"protectLevTable",hidden:"protectLev"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"等级"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"growStatus",key:"growStatusChart",hidden:"growStatus"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"growStatusTable",key:"growStatusTable",hidden:"growStatus"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"使用状况"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"assetsAge",key:"assetsAgeChart",hidden:"assetsAge"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-12"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"assetsAgeTable",key:"assetsAgeTable",hidden:"assetsAge"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-12"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"使用年数"},{key:"value",label:"台资产"}],extraOptions:{}}},{component:"componentWithTitle",name:"assetsSpecies",key:"assetsSpeciesChart",hidden:"assetsSpecies"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"dBarChart",title:"统计图",class:["grid-col-24"],style:{height:"300px"},extraOptions:{}}},{component:"componentWithTitle",name:"assetsSpeciesTable",key:"assetsSpeciesTable",hidden:"assetsSpecies"!==this.pageData.statisticType.statisticType,props:{bodyComponent:"DynamicTable",class:["grid-col-24"],style:{height:"300px"},title:"统计表",table:{hasCheckbox:!1},columns:[{key:"label",label:"资产类型"},{key:"value",label:"台资产"}],extraOptions:{}}}]}},created:function(){this.loadData()},methods:{onSearch:function(e){},loadData:function(){var e=this;Object(n["p"])().then((function(t){e.pageData.protectLev={"等级":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.protectLevTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}})),e.num=t.reduce((function(e,t){return e+t.countNumber}),0)})),Object(n["o"])().then((function(t){e.pageData.growStatus={"使用状况":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.growStatusTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))})),Object(n["a"])().then((function(t){e.pageData.assetsAge={"使用年数":t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))},e.pageData.assetsAgeTable=t.map((function(e){return{value:e.countNumber,label:e.categoryName}}))})),Object(n["b"])().then((function(t){e.pageData.assetsSpecies={"资产类型":t.map((function(e){var t;return{value:e.countNumber,label:null===(t=e.categoryName)||void 0===t?void 0:t.slice(0,5)}}))},e.pageData.assetsSpeciesTable=t.map((function(e){var t;return{value:e.countNumber,label:null===(t=e.categoryName)||void 0===t?void 0:t.slice(0,5)}}))}))}}},p=s,c=(i("2b02"),i("2877")),d=Object(c["a"])(p,a,o,!1,null,"75c4b04a",null);t["default"]=d.exports},"94cb":function(e,t,i){},"9a7c":function(e,t,i){},b774:function(e,t,i){"use strict";i("9a7c")},d334:function(e,t,i){"use strict";i.r(t);var a=i("5530"),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:""},[t("DynamicPageWrapper",{attrs:{actions:Object(a["a"])({},e.pendingPageOptions.listOption.lineActions),"api-promises":e.pendingApiPromises,"entity-label":"不动产管理"}},[t("LayoutTabs",{staticClass:"pt12"},[t("DynamicCurd",{attrs:{"entity-label":e.entityLabel,fields:e.warningFields,"options-props":e.pendingPageOptions,"api-promises":e.pendingApiPromises,scene:"page",mode:"dialog",label:"待处理警告","component-id":"pending"}}),t("DynamicCurd",{attrs:{scene:"page",mode:"dialog","entity-label":e.entityLabel,fields:e.warningProcessedFields,"options-props":e.processedPageOptions,"api-promises":e.processedApiPromises,label:"已处理警告","component-id":"processed"}})],1)],1)],1)},r=[],n=i("fec1"),l=i("d77b"),s="告警信息",p={name:"WarningManage",components:{},data:function(){return{entityLabel:s,warningFields:l["c"],warningProcessedFields:l["d"],pendingApiPromises:{bulkdelete:n["t"],list:n["u"],detail:n["q"]},processedApiPromises:{list:n["v"],detail:n["q"],bulkdelete:n["s"]},pendingPageOptions:{topToolBar:null,listOption:{lineActions:{update:null,handleForm:{label:"处理",actionType:"dialogFormAction",sort:1,permission:"",dataAdapter:function(e){return{assetsAlarmId:e.id,treatmentMethod:2}},title:"现场处理",containerProperties:{width:"36%"},formItemList:this.$buildFormFields(l["a"]),colNum:1,saveAction:{label:"处理",apiPromise:n["r"]}},unhandleForm:{label:"不予处理",actionType:"dialogFormAction",sort:1,permission:"",dataAdapter:function(e){return{assetsAlarmId:e.id,treatmentMethod:3}},container:"el-dialog",containerProperties:{title:"不予处理",width:"36%"},colNum:1,formItemList:this.$buildFormFields(l["b"]),formDataUpdateHandle:function(e,t){},saveAction:{label:"不予处理",apiPromise:n["w"]}}}}},processedPageOptions:{topToolBar:null,listOption:{lineActions:{update:null}}}}}},c=p,d=(i("82f4"),i("2877")),m=Object(d["a"])(c,o,r,!1,null,"4056eb0e",null);t["default"]=m.exports},ddf9:function(e,t,i){"use strict";i("94cb")},efc7:function(e,t,i){"use strict";i("3933")},f65b:function(e,t,i){},ff94:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hz-low-code"},[t("DynamicCurdPage",{attrs:{"entity-label":e.entityLabel,fields:e.fields,"page-optionsprops":e.pageOptions,"api-promises":e.apiPromises,mode:"router"}})],1)},o=[],r=(i("4328"),i("0232")),n=(i("4260"),[{key:"keyWord",type:"FormInput",label:"关键字",searchOption:!0},{key:"id",type:"FormHide",label:"",formOption:{}},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"overallArea",label:"总体规划面积",type:"FormNumber",tableOption:{}},{key:"greenArea",label:"绿地规划面积",type:"FormNumber",tableOption:{}},{key:"waterArea",label:"水体规划面积",type:"FormNumber",tableOption:{}},{key:"capitalBudgeting",label:"投资预算",type:"FormNumber",tableOption:{}},{key:"buildType",label:"客户来源",type:"FormSelect",options:[{value:0,label:"新建"},{value:1,label:"占绿恢复"},{value:2,label:"改建"}],tableOption:{},searchOption:{}},{key:"useLandDictId",label:"支付方式",type:"FormDynamicSelect",dictType:"order_use_land",searchOption:{},tableOption:{key:"useLandDictLabel"}},{key:"orderAttributeDictId",label:"订单属性",type:"FormDynamicSelect",dictType:"order_attribute",tableOption:{key:"orderAttributeDictLabel"},searchOption:{}},{key:"orderTypeDictId",label:"订单类别",type:"FormDynamicSelect",dictType:"order_type",tableOption:{key:"orderTypeDictLabel"},searchOption:{}},{key:"orderStatus",label:"订单状态",type:"FormSelect",options:[{value:0,label:"下单中"},{value:1,label:"处理中"},{value:2,label:"运输中"},{value:3,label:"已完成"}],tableOption:{key:"orderStatusDesc",template:function(e){return"完成"===e.orderStatusDesc?"已完成":e.orderStatusDesc}},searchOption:{}}]),l=i("b1ef"),s=[{key:"keyWord",type:"FormInput",label:"关键字",searchOption:!0},{key:"id",type:"FormHide",label:"",formOption:{},formSection:"基础信息"},{key:"orderCode",label:"订单编号",formSection:"基础信息",type:"FormInput",formOption:{rules:["required"]},tableOption:{}},{key:"orderName",label:"订单名称",formSection:"基础信息",type:"FormInput",formOption:{rules:["required"]},tableOption:{}},{key:"capitalBudgeting",label:"投资预算",formSection:"基础信息",type:"FormNumber",formOption:{rules:["required"],append:"元"},tableOption:{}},{key:"buildType",label:"客户来源",formSection:"基础信息",type:"FormSelect",options:[{value:"0",label:"新建"},{value:"1",label:"占绿恢复"},{value:"2",label:"改建"}],formOption:{},tableOption:{},searchOption:{}},{key:"useLandDictId",label:"支付方式",formSection:"基础信息",type:"FormDynamicSelect",dictType:"order_use_land",formOption:{},searchOption:{},tableOption:{key:"useLandDictLabel"}},{key:"orderAttributeDictId",label:"订单属性",formSection:"基础信息",type:"FormDynamicSelect",dictType:"order_attribute",tableOption:{key:"orderAttributeDictLabel"},searchOption:{}},{key:"orderTypeDictId",label:"订单类别",formSection:"基础信息",type:"FormDynamicSelect",dictType:"order_type",formOption:{key:"orderTypeDictLabel"},searchOption:{}},{key:"orderPosition",label:"订单位置",formSection:"基础信息",type:"FormSelectPoint",formOption:{rules:["required"]}},{key:"deptId",label:"责任单位",formSection:"基础信息",type:"FormInput",formOption:{},tableOption:{key:"deptName"}},{key:"geogId",label:"地理区域",formSection:"基础信息",type:"FormDrawElement",formOption:{defaultValue:[]}},{key:"planStartTime",label:"计划处理日期",formSection:"基础信息",type:"FormDate",formOption:{rules:["required"]},tableOption:{}},{key:"planEndTime",label:"计划完成日期",formSection:"基础信息",type:"FormDate",formOption:{rules:["required"]},tableOption:{}},{key:"description",label:"订单简介",formSection:"基础信息",type:"FormTextarea",formOption:{col:2,maxlength:500}},{key:"planFileIds",label:"附件",formSection:"基础信息",type:"FormUpload",formOption:{col:2,"list-type":"table",accept:"*","auto-upload":!1,extra:{btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"designUnit",label:"客户单位",formSection:"客户信息",type:"FormInput",formOption:{rules:["required"],maxlength:50}},{key:"designUser",label:"客户人",formSection:"客户信息",type:"FormInput",formOption:{maxlength:50}},{key:"designDate",label:"客户完成时间",formSection:"客户信息",type:"FormDate",formOption:{}},{key:"designFileIds",label:"附件",formSection:"客户信息",type:"FormUpload",formOption:{col:2,"list-type":"table",accept:"*","auto-load":!1,extra:{btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"approveStatus",label:"申请是否已通过",formSection:"申请信息",type:"FormRadio",options:[{value:"0",label:"无需申请"},{value:"1",label:"已通过"},{value:"2",label:"未通过"}],formOption:{defaultValue:"0",rules:["required"]},tableOption:{label:"申请信息"},searchOption:{label:"申请信息",type:"FormSelect"}},{key:"approveOverallArea",label:"申请总体数量",formSection:"申请信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveGreenArea",label:"申请绿地数量",formSection:"申请信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveWaterArea",label:"申请水体数量",formSection:"申请信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveCapitalBudgeting",label:"申请投资预算",formSection:"申请信息",type:"FormNumber",formOption:{append:"㎡",expressProp:{hidden:"#{approveStatus}!=1"},rules:["required"]}},{key:"approveDate",label:"申请通过日期",formSection:"申请信息",type:"FormDate",formOption:{rules:["required"],expressProp:{hidden:"#{approveStatus}!=1"}}},{key:"approveFileIds",label:"附件",formSection:"申请信息",type:"FormUpload",formOption:{expressProp:{hidden:"#{approveStatus}!=1"},col:2,"list-type":"table",accept:"*","auto-load":!0,btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}],p=[{type:"FormHide",key:"id",formable:!0},{key:"orderChildName",type:"FormInput",label:"子订单名称",formOption:{col:2,rules:["required"]}},{key:"startTime",type:"FormDate",label:"处理日期",tableOption:{sort:3},formOption:{col:2,rules:["required"]}},{key:"endTime",type:"FormDate",label:"完成日期",tableOption:{},formOption:{col:2,rules:["required"]}},{key:"remark",type:"FormTextarea",label:"备注",tableable:!0,formOption:{col:2,rules:["required"]}},{key:"createTime",type:"FormDateTime",label:"记录日期",tableOption:{}},{key:"updateTime",type:"FormDateTime",label:"更新日期",tableOption:{}}],c=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"orderLibraryId",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"id",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"index",type:"index",label:"序号",tableOption:{width:60}},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"overallArea",label:"总体规划面积",type:"FormNumber",tableOption:{}},{key:"overallAreaLastMonth",label:"上月完成面积(m²)",tableOption:{}},{key:"overallAreaYear",label:"当年累计完成面积(m²)",tableOption:{}},{key:"overallAreaAmount",label:"总体累计完成面积(m²)",tableOption:{}},{key:"progress",label:"订单总进度",tableOption:{}},{key:"capitalBudgeting",label:"投资预算",type:"FormNumber",tableOption:{}},{key:"invested",label:"已投入总资金(元)",tableOption:{}},{key:"startTime",label:"实际处理日期",formSection:"订单处理信息",type:"FormDate",formOption:{rules:["required"]},tableOption:{},searchOption:{wraperProperties:{class:["grid-col-6","grid-col-sm-8","grid-col-ss-10","grid-col-xs-16","grid-col-pp-24"],"label-width":"120px"}}},{key:"planStartTime",label:"计划处理日期",type:"FormDate",tableOption:{}},{key:"planEndTime",label:"计划完成日期",type:"FormDateRange",tableOption:{},searchOption:{wraperProperties:{class:["grid-col-6","grid-col-sm-8","grid-col-ss-10","grid-col-xs-16","grid-col-pp-24"],"label-width":"120px"}}},{key:"fileIds",label:"附件",formSection:"订单处理信息",type:"FormUpload",formOption:{wraperProperties:{class:["grid-col-24"]},"list-type":"table",accept:"*","auto-load":!0,extra:{btn_text:"上传",tip:"单个附件大小限制200Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"buildingChild",label:"子订单列表",formSection:"子订单信息",type:"FormCurd",formOption:{col:2,extra:{fields:p,entityLabel:"子订单信息"}}},{key:"progressTable",type:"slot",formSection:"进度信息",detailOption:{col:2,wrapertype:"el-form-item",wraperProperties:{"label-width":"0px"}}}],d=[{key:"id",type:"FormHide",formOption:{},searchOption:!0},{key:"monthDate",label:"月份",type:"FormInput",formOption:{properties:{disabled:!0},rules:["required"],col:2},tableOption:{}},{key:"buildingArea",label:"运输总里程",type:"FormNumber",formOption:{append:"m²",rules:["required"],col:2},tableOption:{}},{key:"areaProportion",label:"完成比例",type:"FormRateInput",tableOption:{}},{key:"buildingMoney",label:"已用资金（元）",type:"FormNumber",formOption:{append:"元",rules:["required"],col:2},tableOption:{}},{key:"remark",label:"备注",type:"FormTextarea",formOption:{col:2},tableOption:{}},{key:"lastUpdateTime",label:"更新时间",type:"FormDateTime",tableOption:{}}],m=[{type:"FormHide",key:"id",formable:!0},{key:"typeDictId",type:"FormDynamicSelect",label:"类别",dictType:"park_equipment_type",tableOption:{key:"typeDictId"},formOption:{col:2,rules:["required"],changeHandle:function(e,t){}}},{key:"amount",label:"数量",type:"FormNumber",formOption:{col:2,rules:["required"]},tableOption:!0},{key:"transferDate",type:"FormDate",label:"运输中日期",tableOption:{},formOption:{col:2,rules:["required"]}}],u=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"orderLibraryId",type:"FormHide",label:"",formSection:"验收信息",formOption:{}},{key:"id",type:"FormHide",label:"",formSection:"验收信息",formOption:{}},{key:"index",type:"index",label:"序号",tableOption:{width:60}},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"orderContractorId",label:"客户",type:"FormInput",formSection:"验收信息",formOption:{rules:["required"]}},{key:"designGreenArea",label:"设计绿地面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"设计绿地面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"endGreenArea",label:"完成绿地面积",formSection:"验收信息",type:"FormNumber",tableOption:{label:"完成绿地面积(m²)"},formOption:{append:"m²",rules:["required"]}},{key:"requirementFlag",label:"是否符合设计要求",formSection:"验收信息",type:"FormRadio",options:[{value:!0,label:"是"},{value:!1,label:"否"}],formOption:{rules:["required"]},tableOption:{}},{key:"acceptanceConclusion",label:"验收结论",formSection:"验收信息",type:"FormInput",tableOption:{},formOption:{rules:["required"]}},{key:"transferEndTime",label:"实际完成日期",formSection:"验收信息",type:"FormDate",formOption:{rules:["required"]},searchOption:{wraperProperties:{"label-width":"120px"}}},{key:"acceptanceTime",label:"完成验收日期",formSection:"验收信息",type:"FormDate",tableOption:{},formOption:{rules:["required"]},searchOption:{wraperProperties:{"label-width":"120px"}}},{key:"orderEvaluate",label:"订单评价",formSection:"验收信息",type:"FormProjectEvaluate",formOption:{}},{key:"fileIds",label:"附件",formSection:"验收信息",type:"FormUpload",formOption:{col:2,"list-type":"table",accept:"*","auto-load":!0,extra:{btn_text:"上传",tip:"程图纸建议打包上传，单个附件大小限制200 Mb，最多上传20个附件",apiPromise:l["a"],downloadApi:l["b"]}}},{key:"transferArea",label:"运输总里程",formSection:"运输信息",type:"FormNumber",tableOption:{label:"运输里程(km)"},formOption:{append:"km",rules:["required"]}},{key:"transferGreenArea",label:"已运输里程",formSection:"运输信息",type:"FormNumber",tableOption:{label:"已运输里程(km)"},formOption:{append:"km",rules:["required"]}},{key:"remark",type:"FormTextarea",label:"备注",formSection:"运输信息",formOption:{col:2}},{key:"equipmentList",type:"FormCurd",label:"子订单信息",formSection:"子订单信息",formOption:{col:2,fields:m,extra:{entityLabel:"子订单信息"}}}];function b(e){return Object(r["c"])(s,e),Object(r["c"])(c,e),Object(r["c"])(u,e),Object(r["c"])(d,e),console.log("---orderListApi----"),Object(r["c"])(n,e)}function y(e){return Object(r["e"])(s,e)}function f(e){return Object(r["d"])(s,e)}function h(e){return Object(r["a"])(n,e)}function g(e){return console.log("----planOrderDetailApi----",e),Object(r["b"])(s,{id:e})}function v(e){return Object(r["d"])(c,e)}function O(e){return Object(r["e"])(c,e)}function F(e){return console.log("----buildingOrderDetailApi----",e),Object(r["b"])(c,{id:e})}function k(e){return Object(r["e"])(d,e)}function S(e){return Object(r["c"])(d,e)}function D(e){return Object(r["b"])(u,e)}function T(e){return Object(r["b"])(u,e)}function x(e){return console.log("----transOrderDetailApi----",e),Object(r["b"])(u,{id:e})}function P(e){return Object(r["b"])(d,{id:e})}function A(e){return Object(r["b"])(d,e)}function w(e){return Object(r["b"])(d,e)}var L=[{key:"orderLibraryId",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"id",type:"FormHide",label:"",formSection:"订单处理信息",formOption:{}},{key:"finishDate",label:"完成日期",formSection:"订单处理信息",type:"FormDate",formOption:{rules:["required"]}},{key:"finishArea",label:"完成总面积",formSection:"订单处理信息",type:"FormNumber",formOption:{append:"m²",rules:["required"]}},{key:"finishGreenArea",label:"完成绿地面积",formSection:"订单处理信息",type:"FormNumber",formOption:{append:"m²",rules:["required"]}},{key:"finishWaterArea",label:"完成水体面积",formSection:"订单处理信息",type:"FormNumber",formOption:{rules:["required"],append:"m²"}},{key:"remark",type:"FormTextarea",label:"备注",formSection:"订单处理信息",formOption:{col:2}}],I=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{simple:"",active:e.active,"process-status":"process","align-center":""}},[t("el-step",{attrs:{title:"下单中"},on:{click:function(t){e.active=0}}}),t("el-step",{attrs:{title:"处理中"}}),t("el-step",{attrs:{title:"运输中"}}),t("el-step",{attrs:{title:"完成"}})],1),t("DynamicForm",{staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.formItemList,actions:e.actions,data:e.planDetail}})],1)},C=[],_=(i("a9e3"),{name:"PlanForm",props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),formItemList:this.$buildFormFields(s),actions:{save:{apiPromise:f,actionType:"submitAction",componentProperties:{size:"medium"},label:"保存"}},planDetail:{}}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;g(e.id).then((function(e){t.planDetail=e,t.actions.save.apiPromise=y}))}}}),j=_,N=i("2877"),q=Object(N["a"])(j,I,C,!1,null,null,null),M=q.exports,$=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{active:e.active,"process-status":"process","align-center":"",simple:""}},[t("el-step",[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(0)}}},[e._v("1")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(0)}}},[e._v("下单中")])])],2),t("el-step",[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(1)}}},[e._v("2")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(1)}}},[e._v("处理中")])])],2),t("el-step",{attrs:{title:"运输中"}}),t("el-step",{attrs:{title:"完成"}})],1),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.planFormItemList,actions:e.planActions,data:e.planDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.buildingFormItemList,actions:e.buildingActions,data:e.buildingDetail},scopedSlots:e._u([{key:"progressTable",fn:function(){return[e.orderLibraryId?t("buildingProgress",{staticClass:"full-width",attrs:{data:{id:e.orderLibraryId},mode:"textMode"}}):e._e()]},proxy:!0}])})],1)},B=[],z=function(){var e=this,t=e._self._c;return t("DynamicCurd",{staticClass:"full-width building-progress",attrs:{"entity-label":e.entityLabel,fields:e.fields,"options-props":e.pageOptions,"api-promises":e.apiPromises,data:e.data}})},H=[],W="订单进度",U={name:"BuildingProgress",props:{data:{type:[Object,String,Number]},mode:String},data:function(){var e=this;return{entityLabel:W,fields:d,apiPromises:{update:k,list:function(t){return t.orderLibraryId=e.data.id,S(t)}},pageOptions:{searchOption:"textMode"===this.mode?null:{trigger:"change",resetable:!1},topToolBar:null,listOption:{hasCheckbox:!1,properties:{border:"textMode"!==this.mode},lineActions:"textMode"===this.mode?null:{update:{label:"填报",isShow:function(e){return e.isShow},dialog:{container:"el-dialog",properties:{title:"填报订单进度",width:"36%"}}},detail:null,delete:null}}}}}},E=U,R=(i("b774"),Object(N["a"])(E,z,H,!1,null,null,null)),G=R.exports,K={name:"BuildingForm",components:{buildingProgress:G},props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){var e=this;return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),planFormItemList:this.$buildFormFields(s),planActions:{save:{actionType:"submitAction",apiPromise:f,label:"下一步",componentProperties:{size:"medium"},callback:{next:function(t,i){if(e.active=1,!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1}}},planDetail:{},buildingFormItemList:this.textMode?this.$buildDetailFields(c):this.$buildFormFields(c),buildingActions:{save:{actionType:"submitAction",isShow:function(e){return!e.id},componentProperties:{size:"medium"},apiPromise:function(t){return t.orderLibraryId=e.orderLibraryId,v(t)}},update:{actionType:"submitAction",isShow:function(e){return!!e.id},componentProperties:{size:"medium"},apiPromise:function(e){return O(e)}},prev:{actionType:"prev",label:"上一步",component:"el-button",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=0,e.planActions.save.apiPromise=function(e){return y(e)}}}},buildingDetail:{},orderLibraryId:""}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;this.active=1,this.buildingActions.save.apiPromise=O,this.planActions.save.apiPromise=y,F(e.id).then((function(e){t.buildingDetail=e,console.log("----loadDetail-data-----",e),t.orderLibraryId=e.orderLibraryId,g(t.orderLibraryId).then((function(e){t.planDetail=e}))}))},switchStep:function(e){this.textMode&&(this.active=e)}}},J=K,V=Object(N["a"])(J,$,B,!1,null,null,null),Y=V.exports,Q=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{simple:"",active:e.active,"process-status":"process","align-center":""}},[t("el-step",[t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(0)}}},[e._v("1. 下单中")])])],2),t("el-step",[t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(1)}}},[e._v("2. 处理中")])])],2),t("el-step",{attrs:{title:"运输中"}},[t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(2)}}},[e._v("3. 运输中")])])],2),t("el-step",{attrs:{title:"完成"}})],1),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.planFormItemList,actions:e.planActions,data:e.planDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.buildingFormItemList,actions:e.buildingActions,data:e.buildingDetail},scopedSlots:e._u([{key:"progressTable",fn:function(){return[e.orderLibraryId?t("buildingProgress",{attrs:{data:{id:e.orderLibraryId},mode:"textMode"}}):e._e()]},proxy:!0}])}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active===2"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.transFormItemList,actions:e.transActions,data:e.transDetail}})],1)},X=[],Z={name:"TransForm",components:{buildingProgress:G},props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){var e=this;return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),planFormItemList:this.$buildFormFields(s),planActions:{save:{actionType:"submitActionOption",apiPromise:f,label:"下一步",componentProperties:{size:"medium"},callback:{next:function(t,i){if(e.active=1,!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1}}},planDetail:{},buildingFormItemList:this.textMode?this.$buildDetailFields(c):this.$buildFormFields(c),buildingActions:{save:{actionType:"submitActionOption",label:"下一步",componentProperties:{size:"medium"},isShow:function(e){return!e.id},apiPromise:function(t){if(console.log("----this.orderLibraryId---",e.orderLibraryId),e.orderLibraryId)return t.orderLibraryId=e.orderLibraryId,v(t);console.error("没有orderLibraryId ")},callback:{closeModal:!1,refresh:!1,showTip:!1,reset:!1,next:function(t,i){e.active=2}}},prev:{actionType:"prev",label:"上一步",component:"el-button",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=0,e.planActions.save.apiPromise=function(e){return y(e)}}}},buildingDetail:{},orderLibraryId:"",transFormItemList:this.$buildFormFields(u),transActions:{save:{actionType:"submitActionOption",apiPromise:D,label:"保存",componentProperties:{size:"medium"},callback:{next:function(e,t){},closeModal:!1,refresh:!1,showTip:!0,reset:!1}},prev:{actionType:"prev",label:"上一步",component:"el-button",properties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=1,e.buildingActions.save.apiPromise=function(e){return O(e)}}}},transDetail:{}}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;this.active=2,x(e.id).then((function(e){t.transDetail=e,t.transActions.save.apiPromise=T})).then((function(){t.orderLibraryId=t.transDetail.orderLibraryId,g(t.orderLibraryId).then((function(e){t.planDetail=e,t.planActions.save.apiPromise=y})),F(t.orderLibraryId).then((function(e){t.buildingDetail=e,t.buildingActions.save.apiPromise=O}))}))},switchStep:function(e){this.textMode&&(this.active=e)}}},ee=Z,te=Object(N["a"])(ee,Q,X,!1,null,null,null),ie=te.exports,ae=function(){var e=this,t=e._self._c;return t("main",[t("el-steps",{staticClass:"mx24 my12",attrs:{active:e.active,"process-status":"process","align-center":"",simple:""}},[t("el-step",{attrs:{simple:""}},[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(0)}}},[e._v("1")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(0)}}},[e._v("下单中")])])],2),t("el-step",[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(1)}}},[e._v("2")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(1)}}},[e._v("处理中")])])],2),t("el-step",{attrs:{title:"运输中"}},[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(2)}}},[e._v("3")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(2)}}},[e._v("运输中")])])],2),t("el-step",{attrs:{title:"完成"}},[t("template",{slot:"icon"},[t("span",{staticClass:"circle",on:{click:function(t){return e.switchStep(3)}}},[e._v("4")])]),t("template",{slot:"title"},[t("span",{on:{click:function(t){return e.switchStep(3)}}},[e._v("完成")])])],2)],1),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active===0"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.planFormItemList,actions:e.planActions,data:e.planDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.buildingFormItemList,actions:e.buildingActions,data:e.buildingDetail},scopedSlots:e._u([{key:"progressTable",fn:function(){return[e.orderLibraryId?t("buildingProgress",{attrs:{data:{id:e.orderLibraryId},mode:"textMode"}}):e._e()]},proxy:!0}])}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active===2"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.transFormItemList,actions:e.transActions,data:e.transDetail}}),t("DynamicForm",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active===3"}],staticClass:"relative",attrs:{"form-option":e.formOption,"form-item-list":e.completeFormItemList,actions:e.completeActions,data:e.completeDetail}})],1)},oe=[],re=i("ade3"),ne={name:"CompleteForm",components:{buildingProgress:G},props:{data:{type:[Object,Number,String,Array]},textMode:[Boolean]},data:function(){var e=this;return{active:0,formOption:this.$appendToPreset("formOption",{textMode:this.textMode,formProperties:{"label-width":"150px"}}),planFormItemList:this.$buildFormFields(s),planActions:{save:{actionType:"submitAction",apiPromise:f,label:"下一步",componentProperties:{size:"medium"},callback:{next:function(t,i){e.active=1},closeModal:!1,refresh:!1,showTip:!1,reset:!1}}},planDetail:{},buildingFormItemList:this.textMode?this.$buildDetailFields(c):this.$buildFormFields(c),buildingActions:{save:{actionType:"submitActionOption",label:"下一步",isShow:function(e){return!e.id},componentProperties:{size:"medium"},apiPromise:function(t){return t.orderLibraryId=e.orderLibraryId,v(t)},callback:{closeModal:!1,refresh:!0,showTip:!1,reset:!0,next:function(t,i){e.active=2}}},prev:{actionType:"prev",label:"上一步",component:"el-button",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=0,e.planActions.save.apiPromise=function(e){return y(e)}}}},buildingDetail:{},orderLibraryId:"",transFormItemList:this.$buildFormFields(u),transActions:{save:{actionType:"submitActionOption",apiPromise:function(e){return D(e)},label:"下一步",componentProperties:{size:"medium"},isShow:function(e){return!e.id},callback:Object(re["a"])({next:function(t,i){if(!e.orderLibraryId){if(!i.data)return void console.error("接口没有返回orderLibraryId?查看network验证");e.orderLibraryId=i.data}},closeModal:!1,refresh:!1,showTip:!1,reset:!1},"next",(function(t,i){e.orderLibraryId=i.data,e.active=3}))},prev:{actionType:"prev",label:"上一步",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=1,e.buildingActions.save.apiPromise=function(e){return O(e)}}}},transDetail:{},completeFormItemList:this.$buildFormFields(L),completeActions:{save:{actionType:"submitActionOption",apiPromise:w,label:"保存",componentProperties:{size:"medium"},callback:{next:function(e,t){},closeModal:!1,refresh:!0,showTip:!0,reset:!0,back:-1}},prev:{actionType:"prev",label:"上一步",componentProperties:{size:"medium"},isLoadData:!1,actionHandle:function(t){e.active=2,e.transActions.save.apiPromise=function(e){return T(e)}}}},completeDetail:{}}},watch:{data:{handler:function(e){e.id&&this.loadDetail(e)},immediate:!0}},methods:{loadDetail:function(e){var t=this;this.active=3,P(e).then((function(i){t.completeDetail=i,t.completeActions.save.apiPromise=A,t.orderLibraryId=t.completeDetail.orderLibraryId||e.orderLibraryId,x(t.orderLibraryId).then((function(e){t.transDetail=e,t.transActions.save.apiPromise=T})),g(t.orderLibraryId).then((function(e){t.planDetail=e,t.planActions.save.apiPromise=y})),F(t.orderLibraryId).then((function(e){t.buildingDetail=e,t.buildingActions.save.apiPromise=O}))}))},switchStep:function(e){this.textMode&&(this.active=e)}}},le=ne,se=Object(N["a"])(le,ae,oe,!1,null,null,null),pe=se.exports,ce=function(){var e=this,t=e._self._c;return t("section",{staticClass:"hz-low-code m6",staticStyle:{width:"180px"}},[t("div",[e._v("新增订单状态:")]),t("el-radio-group",{staticClass:"flex flex-direction align-left px12",model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}},[t("el-radio",{staticClass:"mt12",attrs:{label:0}},[e._v("下单中")]),t("el-radio",{staticClass:"mt12",attrs:{label:1}},[e._v("处理中")]),t("el-radio",{staticClass:"mt12",attrs:{label:2}},[e._v("运输中")]),t("el-radio",{staticClass:"mt12",attrs:{label:3}},[e._v("完成")])],1)],1)},de=[],me=i("b526"),ue={name:"ProjectRadio",mixins:[me["a"]],props:{data:{type:Object,default:function(){return{value:0}}}},data:function(){return{}},computed:{},watch:{data:{handler:function(e){this.$emit("change",e.value)},deep:!0,immediate:!0}},mounted:function(){}},be=ue,ye=Object(N["a"])(be,ce,de,!1,null,null,null),fe=ye.exports,he=(i("99af"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-input-box form-item-box",class:"form-unqiue-".concat(e.item.key," ").concat(e.isTextMode?"hz-text-box":"hz-untext-box"),style:e.item.style||{}},[t("el-rate",{staticClass:"mb8",attrs:{value:e.val.grade,"allow-half":!0,disabled:e.isDisabled},on:{change:e.rateChange}}),e.isTextMode?t("div",{staticClass:"form-input-text",style:e.item.textStyle||{}},[t("span",{staticClass:"text"},[e._v(e._s(e.val.evaluate||"-"))])]):t("el-input",e._b({attrs:{value:e.val.evaluate,disabled:e.isDisabled,placeholder:e.placeholder,type:"text"},on:{blur:function(t){return e.onBlur(t)},focus:function(t){return e.onFocus(t)},input:e.evaluateChange}},"el-input",e.bindOptions,!1))],1)}),ge=[],ve=i("56e9"),Oe={name:"FormProjectEvaluate",mixins:[ve["a"]],computed:{val:{get:function(){return this.value instanceof Object?this.value:{grade:0,evaluate:""}},set:function(e){this.$emit("input",e),this.formMethods.valueUpdateEvent(Object(re["a"])({},this.item.key,e))}}},methods:{rateChange:function(e){this.val={grade:e,evaluate:this.val.evaluate}},evaluateChange:function(e){this.val={evaluate:e,grade:this.val.grade}}}},Fe=Oe,ke=(i("efc7"),Object(N["a"])(Fe,he,ge,!1,null,null,null)),Se=ke.exports,De=i("2b0e");console.log("---orderRadio----",fe),De["default"].component("PlanForm",M),De["default"].component("BuildingForm",Y),De["default"].component("TransForm",ie),De["default"].component("CompleteForm",pe),De["default"].component("FormProjectEvaluate",Se),De["default"].component("OrderRadio",fe);var Te="订单库管理",xe={"子订单信息":{hidden:!0}},Pe=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"id",type:"FormHide",label:"",formOption:{}},{key:"orderCode",label:"订单编号",type:"FormInput",tableOption:{}},{key:"orderName",label:"订单名称",type:"FormInput",tableOption:{}},{key:"overallArea",label:"订单金额",type:"FormNumber",tableOption:{}},{key:"waterArea",label:"订单折扣",type:"FormNumber",tableOption:{}},{key:"capitalBudgeting",label:"订单毛利润",type:"FormNumber",tableOption:{}},{key:"buildType",label:"客户来源",type:"FormSelect",options:[{value:0,label:"新建"},{value:1,label:"占绿恢复"},{value:2,label:"改建"}],tableOption:{},searchOption:{}},{key:"useLandDictId",label:"支付方式",type:"FormDynamicSelect",dictType:"order_use_land",searchOption:{},tableOption:{key:"useLandDictLabel"}},{key:"orderTypeDictId",label:"订单类别",type:"FormDynamicSelect",dictType:"order_type",tableOption:{key:"orderTypeDictLabel"},searchOption:{}},{key:"orderStatus",label:"订单状态",type:"FormSelect",options:[{value:0,label:"已支付"},{value:1,label:"处理中"},{value:2,label:"运输中"},{value:3,label:"已完成"}],tableOption:{},searchOption:{}}],Ae={0:"planForm",1:"buildingForm",2:"transForm",3:"completeForm"},we={name:"ProjectList",data:function(){var e=this,t=this;return{orderStatus:0,entityLabel:Te,fields:Pe,apiPromises:{create:f,bulkdelete:h,list:b,detail:void 0,update:y},pageOptions:{tableUp:{component:"DyTmpl",properties:{tmpl:'总数量:<span class="text-blue py4 px4">#{num}</span>,总金额:<span class="text-red py4 px4">#{num1}</span>',data:{num:123254,num1:5546}}},topToolBar:{create:null,add:{label:"新增",sort:5,isLoadData:!1,actionType:"routerDialogPageAction",msgBox:{message:this.$createElement(fe,{key:(new Date).getTime(),on:{change:function(e){t.orderStatus=e}}})},router:function(i){return{path:e.$route.path,query:{orderStatus:t.orderStatus,id:i.id}}},actionHook:function(e,i){e.dialog.body[0].component=Ae[t.orderStatus||0]},componentProperties:{type:"primary",icon:"el-icon-plus"},containerProperties:{title:"新增订单"},body:[{component:"planForm",name:"@object@",label:"",props:{class:["grid-col-24"]}}]}},listOption:{actionColWidth:240,lineActions:{update:null,detail:null,building:{label:"转处理中",actionType:"dialogFormAction",isShow:function(e){return"0"==e.orderStatus},permission:"转处理中",dataAdapter:function(e){return e.orderLibraryId=e.id,e},colNum:1,containerProperties:{title:"转处理中",width:"40%"},formItemList:this.$buildFormFields(c,xe),saveAction:{actionType:"submitAction",apiPromise:v}},trans:{label:"转运输中",actionType:"dialogFormAction",isShow:function(e){return"1"==e.orderStatus},permission:"转运输中",dataAdapter:function(e){return e.orderLibraryId=e.id,e},container:"DyPage",containerProperties:{title:"转运输中"},formItemList:this.$buildFormFields(u),saveAction:{actionType:"submitActionOption",apiPromise:D}},complete:{label:"转完成",actionType:"dialogFormAction",isShow:function(e){return"2"==e.orderStatus},permission:"转完成",dataAdapter:function(e){return e.orderLibraryId=e.id,e},colNum:1,containerProperties:{title:"转完成",width:"40%"},formItemList:this.$buildFormFields(L),saveAction:{actionType:"submitActionOption",apiPromise:w}},modify:{label:"修改",actionType:"dialogPageActionOption",permission:"修改",router:function(t){return{path:e.$route.path,query:{orderStatus:t.orderStatus,id:t.id}}},actionHook:function(e,t){var i=parseInt(t.orderStatus);e.dialog.body[0].component=Ae[i]},containerProperties:{title:"修改订单信息"},container:"DyPage",body:[{component:"planForm",name:"@object@",props:{class:["grid-col-24"]}}]},view:{label:"详情",actionType:"dialogPageAction",router:function(t){return{path:e.$route.path,query:{orderStatus:t.orderStatus,id:t.id}}},actionHook:function(t,i){var a=parseInt(i.orderStatus);e.$set(t.dialog.body[0],"component",Ae[a])},dataAdapter:function(e){return e.orderLibraryId=e.id,e},container:"DyPage",containerProperties:{title:"订单详情"},body:[{component:"planForm",name:"@object@",props:{class:["grid-col-24"],textMode:!0}}]}}}}}},created:function(){}},Le=we,Ie=Object(N["a"])(Le,a,o,!1,null,null,null);t["default"]=Ie.exports}}]);